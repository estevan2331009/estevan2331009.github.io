"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[86352],{360980:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinBlock_pin",selections:[{args:null,kind:"FragmentSpread",name:"StoryPinStickerBlockCloseup_pin"}],type:"Pin",abstractKey:null};t.hash="8bb1bb1f7bafeed0fe43bed44ef12d2a",e.exports=t},884884:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinStickerBlockCloseup_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="7e8d917850c8329247291df0d281a59b",e.exports=t},790904:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(883119),o=n(785893);function s({accessibilityLabel:e,handleClick:t,icon:n,iconColor:s,iconOnly:r,testId:l,buttonText:d,tabIndex:c,bgColor:u}){let[p,h]=(0,i.useState)(!1),_=(0,i.useRef)(null),m=()=>{h(e=>!e),t()},g=e=>{_&&e.target instanceof Element&&!_.current?.contains(e.target)&&h(!1)};return(0,i.useEffect)(()=>(window.addEventListener("mousedown",g),()=>{window.removeEventListener("mousedown",g)}),[]),(0,o.jsx)(a.xu,{"data-test-id":l||"closeup-action-bar-button",children:(0,o.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,o.jsx)(a.hU,{ref:_,accessibilityLabel:e,bgColor:u,icon:n,iconColor:s||"darkGray",onClick:m,selected:p,size:r?"md":"lg",tabIndex:c}),d&&(0,o.jsx)(a.iP,{onTap:m,rounding:2,children:(0,o.jsx)(a.X6,{color:"light",overflow:"normal",size:"400",children:d})})]})})}},280348:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(883119),o=n(238464),s=n(407043),r=n(898781),l=n(428258),d=n(785893);class c extends i.PureComponent{constructor(...e){var t,n,i;super(...e),t="startAudiblePlayTime",n=this.props.muted?null:new Date,(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidUpdate(e){e.muted!==this.props.muted&&(this.startAudiblePlayTime=this.props.muted?null:new Date)}componentWillUnmount(){let{musicRecordingId:e,muted:t,pinId:n,video:i}=this.props;if(e&&!t&&this.startAudiblePlayTime){let t=new Date-this.startAudiblePlayTime;if(t>=2e3){let{hlsv3:t,mp4:a}=(0,l.ZP)({vEXP3:i.video_list?.V_EXP3,vEXP4:i.video_list?.V_EXP4,vEXP5:i.video_list?.V_EXP5,vEXP6:i.video_list?.V_EXP6,vEXP7:i.video_list?.V_EXP7,v720P:i.video_list?.V_720P,vHLSV3MOBILE:i.video_list?.V_HLSV3_MOBILE})||{},o=(a||t)?.duration||0;this.props.logContextEvent({event_type:8999,object_id_str:e,aux_data:{pin_id:n,story_pin_music_duration:o}})}}}render(){let{activePageIndex:e,blockHeight:t,blockWidth:n,closeupStoryPinViewability:i,customEndCard:s,isPlaying:r,muted:c,onEnded:u,onUpdateVideoInfo:p,pageIndex:h,pinId:_,roundCorners:m=!0,video:g,videoThumbnailStartTime:y}=this.props,{hlsv3:b,mp4:f}=(0,l.ZP)({vEXP3:g.video_list?.V_EXP3,vEXP4:g.video_list?.V_EXP4,vEXP5:g.video_list?.V_EXP5,vEXP6:g.video_list?.V_EXP6,vEXP7:g.video_list?.V_EXP7,v720P:g.video_list?.V_720P,vHLSV3MOBILE:g.video_list?.V_HLSV3_MOBILE})??{},x=f||b;if(!x)return null;let{height:v,thumbnail:P,width:w}=x,S=(w??1)/(v??1),j={height:"100%",left:"0",top:"0",width:"100%"},C=n/t;if(Math.abs(C-S)>.01){if(C<S){let e=100*S/C;j.width=`${e}%`,j.left=`-${(e-100)/2}%`}else if(C>S){let e=100*C/S;j.height=`${e}%`,j.top=`-${(e-100)/2}%`}}let A="number"==typeof e&&h<=e+3;return(0,d.jsx)(a.xu,{height:t,overflow:"hidden",position:"relative",width:n,children:(0,d.jsx)(a.xu,{height:"100%",position:"absolute",width:"100%",children:A||r||y?(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:j},position:"absolute",children:(0,d.jsx)(o.Z,{autoplay:r,closeupStoryPinViewability:i,contextLogData:{component:0===h?227:228,element:10957,objectId:_,story_pin_page_id:h,view:3,viewParameter:157},customEndCard:s,customThumbnail:P,isPromoted:!1,loop:!1,muted:c,objectFit:f?"cover":void 0,onEnded:()=>{u&&u(h)},onTimeChange:({time:e})=>{if(p&&"number"==typeof x.duration&&x.duration>0){let t=x.duration/1e3;p({currentTime:e,duration:t})}},pinId:_,preferMp4:!!f,roundingOverride:m?null:0,showControls:"never",variant:"storyPin",video:{id:g.id,hlsv3:b,mp4:f},videoThumbnailStartTime:y})}):(0,d.jsx)(a.Ee,{alt:this.props.i18n.bt("Gambar sampul video", "Video cover image", "closeup.storyPin.videoCover", undefined, true),fit:"cover",naturalHeight:v??1,naturalWidth:w??1,src:P??""})})})}}function u(e){let{logContextEvent:t}=(0,s.v)(),n=(0,r.ZP)();return(0,d.jsx)(c,{...e,i18n:n,logContextEvent:t})}},386352:(e,t,n)=>{n.d(t,{_B:()=>D,Xw:()=>H,tD:()=>U,ZP:()=>W}),n(167912);var i,a,o=n(883119),s=n(616550),r=n(407043),l=n(784590),d=n(252417),c=n(785893);let u=({block:{block_style:{height:e=0,width:t=0,x_coord:n=0,y_coord:i=0,rotation:a=0}={},original_comment_id:u},pageAspectRatio:p,scaleFactor:h})=>{let{logContextEvent:_}=(0,r.v)(),m=D/p,g=(0,s.k6)(),{data:y}=(0,l.Z)({name:"AggregatedCommentResource",options:{commentId:u,field_set_key:"comment_reply_sticker"}});return(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:n*D*h/100,top:i*m*h/100,transform:`rotate(${a}deg)`}},display:"flex",height:e*m*h/100,margin:-1,padding:1,position:"absolute",rounding:2,width:t*D*h/100,zIndex:d.B5,children:(0,c.jsx)(o.iP,{onTap:()=>{_({event_type:102,view_type:1,component:227,element:12541,aux_data:{comment_id:u}}),y?.pin_id&&g.push(`/pin/${y.pin_id}/comments/${u||""}`)},rounding:"pill"})})};var p=n(523657),h=n(461605);function _({src:e,fallbackSrc:t,...n}){let i=(0,h.Z)(e);return(0,c.jsx)(p.Z,{...n,src:i?e:t})}var m=n(702664);function g({isUseCache:e,signature:t}){return(0,m.useSelector)(({pinbuilder:n})=>{let{storyPinItemBlocks:i}=n;if(!e)return null;for(let e of Object.keys(i))if(i[e].media?.signatureEdited===t||i[e].media?.signature===t)return i[e];return null})}var y=n(667294),b=n(964569),f=n(237056),x=n(121151),v=n(898781),P=n(664569);let w=({aggregatedCommentId:e,onDismiss:t})=>{let n=(0,v.ZP)(),i=(0,f.Z)(),a=(0,b.Z)(),[s,r]=(0,y.useState)(""),l=(0,c.jsx)(o.kC,{justifyContent:"end",children:(0,c.jsx)(o.zx,{color:"red",disabled:!s,onClick:()=>{(async()=>{await a({fromUnifiedComment:!0,objectType:P.o.aggregatedComment,objectId:e,tags:"[]",text:s})})(),t()},text:n.bt("Posting", "Post", "ideapin.questionsticker.replymodal.postbutton", undefined, true)})});return(0,c.jsx)(x.ZP,{accessibilityModalLabel:"reply to creator Q and A question",align:"start",footer:l,heading:n.bt("Balas", "Reply", "ideapin.questionsticker.replymodal", undefined, true),onDismiss:t,children:(0,c.jsx)(o.xu,{paddingX:8,paddingY:1,children:(0,c.jsx)(o.Kx,{id:"ideaPinQuestionStickerReplyModalTextArea",onChange:({value:e})=>{r(e)},placeholder:i?n.bt("Balasan Anda akan muncul sebagai komentar publik pada Pin ini.", "Your reply will show up as a public comment on this Pin.", "pin.questionsticker.replymodal.placeholder", undefined, true):n.bt("Balasan Anda akan muncul sebagai komentar publik pada Pin Ide ini.", "Your reply will show up as a public comment on this Idea Pin.", "ideapin.questionsticker.replymodal.placeholder", undefined, true),value:s})})})};var S=n(356997),j=n(916117),C=n(349700),A=n(773285),I=n(224496),k=n(148028);let T=void 0!==i?i:i=n(884884);function E({block:e,elementType:t,onFlyoutOpen:n,pageAspectRatio:i,pageIndex:a,pinKey:u,scaleFactor:p,tooltipElementType:h,videoPinProgress:_}){let{logContextEvent:m}=(0,r.v)(),[g,b]=(0,y.useState)(!1),[f,x]=(0,y.useState)(!1),P=(0,y.useRef)(null),E=(0,s.k6)(),z=(0,v.ZP)(),R=(0,j.Z)(T,u),{checkExperiment:M}=(0,A.F)(),{block_style:{height:L=0,width:O=0,x_coord:F=0,y_coord:N=0,rotation:Z=0}={},end_time:V,error_message:B,interactive_sticker_type:$=null,is_removed:G,is_valid:X,start_time:K,sticker_data:W,type:q}=e,Y=R?.entityId,{board_id:J,question_comment_id:Q}=W||{},{image_small_url:ee,full_name:et,username:en=""}=e.user??{},ei=null,ea=X&&5===$&&!!J,eo=X&&7===$&&!!Q,es=(0,l.Z)(J&&ea?{name:"BoardResource",options:{field_set_key:"tagged_board_preview",board_id:J}}:null),{is_collaborative:er,pin_count:el,url:ed}=es.data||{};q===I.h8.PRODUCT_STICKER?ei=Y?`/pin/${Y}/`:"/":q===I.h8.MENTION_STICKER?ei=`/${en}/`:ea&&(ei=es.isLoaded?`${ed}`:null);let ec=D/i,{currentTime:eu}=_||{},ep=!(0,k.Z)({currentTime:eu,endTime:V,startTime:K}),eh=()=>{m({event_type:123,component:228,element:h,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:a}}),b(!1)},e_=({event:e})=>{m({event_type:120,component:228,element:h,view_type:3,view_parameter:157,aux_data:{error_message:!X&&B?B:null,story_pin_page_id:a}}),b(!0),n&&(e.stopPropagation(),n())};(0,y.useEffect)(()=>(document.addEventListener("scroll",()=>{b(!1)}),()=>document.removeEventListener("scroll",()=>{b(!1)})),[]);let em=()=>[5].includes($)?X?es.isLoaded?(0,c.jsxs)(y.Fragment,{children:[(0,c.jsxs)(o.xu,{flex:"grow",paddingX:2,children:[(0,c.jsx)(o.xv,{lineClamp:1,size:"100",weight:"bold",children:er?z.bt("Jelajahi papan kelompok ini", "Explore this group board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true):z.bt("Jelajahi papan ini", "Explore this board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true)}),(0,c.jsx)(o.xv,{size:"100",children:(!!el||0===el)&&(0,C.nk)(z.nbt(["{{ pinCount }} Pin"], el, "closeup.StoryPin.stickerBlock.boardSticker.boardLabel", true),{pinCount:el})})]}),(0,c.jsx)(o.xu,{flex:"none",children:(0,c.jsx)(o.Sj,{bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",size:"xs"})})]}):(0,c.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingY:2,children:[(0,c.jsx)(o.xu,{marginEnd:1,paddingX:2,children:(0,c.jsx)(o.xv,{color:"subtle",lineClamp:1,size:"100",children:z.bt("Memuat papan ...", "Loading board...", "closeup.StoryPin.stickerBlock.boardSticker.loadingText", undefined, true)})}),(0,c.jsx)(o.$j,{accessibilityLabel:z.bt("Papan sedang memuat", "Board is loading", "closeup.StoryPin.stickerBlock.boardSticker.loadingSpinnerText", undefined, true),show:!0,size:"sm"})]}):(0,c.jsx)(o.xu,{paddingX:2,paddingY:2,children:(0,c.jsx)(o.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:B})}):(0,c.jsx)(o.xu,{paddingX:2,paddingY:2,children:(0,c.jsx)(o.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:z.bt("Stiker belum didukung", "Sticker not supported yet", "closeup.StoryPin.stickerBlock.genericStickerError", undefined, true)})}),eg=()=>{let e=null;switch(q){case I.h8.PRODUCT_STICKER:let{gridTitle:t,imageSpec_236x:n,richSummary:i,description:a}=R||{},{displayName:s,products:r}=i||{},l=((r||[])[0]||{}).offerSummary||{},{price:d,maxPrice:u}=l||{},p=s||t||a;e=(0,c.jsxs)(y.Fragment,{children:[(0,c.jsx)(o.xu,{flex:"none",children:(0,c.jsx)(o.zd,{height:40,rounding:3,wash:!0,width:40,children:(0,c.jsx)(o.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:n?.url||""})})}),(0,c.jsx)(o.xu,{flex:"grow",paddingX:2,children:l&&(d||u)?(0,c.jsxs)(o.kC,{alignContent:"center",alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"center",children:[(0,c.jsx)(o.xv,{color:"shopping",lineClamp:1,size:"100",weight:"bold",children:d}),(0,c.jsx)(o.xv,{lineClamp:1,size:"100",children:p})]}):(0,c.jsx)(o.xv,{lineClamp:1,size:"100",children:p})}),(0,c.jsx)(o.xu,{flex:"none",children:(0,c.jsx)(o.Sj,{bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",size:"xs"})})]});break;case I.h8.MENTION_STICKER:e=(0,c.jsxs)(y.Fragment,{children:[(0,c.jsx)(o.xu,{flex:"none",children:(0,c.jsx)(S.qE,{name:et??"",size:"sm",src:ee??void 0})}),(0,c.jsx)(o.xu,{flex:"grow",paddingX:2,children:(0,c.jsx)(o.xv,{lineClamp:1,size:"200",weight:"bold",children:et})}),(0,c.jsx)(o.xu,{flex:"none",children:(0,c.jsx)(o.Sj,{bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",size:"xs"})})]});break;case I.h8.GENERIC_STICKER:e=em();break;case I.h8.VTO_MAKEUP_STICKER:e=(0,c.jsx)(o.xv,{size:"300",weight:"bold",children:z.bt("Coba stiker ini di ponsel Anda!", "Try this sticker on your phone!", "closeup.storyPin.vtoMakeupSticker", undefined, true)})}return(0,c.jsx)(o.xu,{alignItems:"center","data-test-id":q,display:"flex",justifyContent:"center",padding:q===I.h8.PRODUCT_STICKER?1:3,width:"100%",children:G?(0,c.jsx)(o.xv,{color:"subtle",size:"200",weight:"bold",children:z.bt("Tag dihapus", "Tag removed!", "closeup.storyPin.stickerBlock", undefined, true)}):e})};return(0,c.jsx)(y.Fragment,{children:ep?null:(0,c.jsxs)(o.xu,{ref:P,dangerouslySetInlineStyle:{__style:{left:F*D*p/100,top:N*ec*p/100,transform:`rotate(${Z}deg)`}},"data-test-id":(q||"")+"_container",display:"flex",height:L*ec*p/100+2*H,margin:-1,padding:1,position:"absolute",rounding:2,width:O*D*p/100+2*H,zIndex:d.B5,children:[(0,c.jsx)(o.iP,{disabled:ep,onTap:g?eh:({event:e})=>{!ep&&(m({event_type:101,component:228,element:t,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:a}}),eo?M("web_question_sticker_display").anyEnabled&&x(!0):e_({event:e}))},rounding:"pill"}),g&&(0,c.jsx)(o.mh,{zIndex:U,children:(0,c.jsx)(o.J2,{_deprecatedShowCaret:!0,anchor:P.current,idealDirection:"up",onDismiss:eh,positionRelativeToAnchor:!1,size:G?"flexible":"sm",children:G?eg():(0,c.jsx)(o.iP,{fullWidth:!0,onTap:({event:e})=>{e.preventDefault(),G||(m({event_type:101,component:228,element:h,object_id_str:Y,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:a}}),ei?E.push(ei):eh())},children:eg()})})}),!!Q&&f&&(0,c.jsx)(w,{aggregatedCommentId:Q,onDismiss:()=>{x(!1)}})]})})}var z=n(775151),R=n(296342),M=n(854907),L=n(829084);function O({block:e,fontsLoaded:t,pageAspectRatio:n,scaleFactor:i,thumbnail:a}){let{block_style:s,style:r=I.Cc,text:l}=e,{alignment:d,font:u,font_size:p,highlight_color:h,vertical_alignment:_=I.Cc.vertical_alignment}=r,{hex_color:m=I.Cc.hex_color}=r??{},[g,b]=(0,y.useState)(0),[f,x]=(0,y.useState)([]),v=u||I.Cc.font,{name:P,default_size:w,letter_spacing:S,line_height:j}=v,C=(0,L.Z)(v),A=Math.round(100*(s?.width||100))/1e4,k=Math.round(100*(s?.height||100))/1e4,T=Math.round(100*(s?.x_coord||0))/1e4,E=Math.round(100*(s?.y_coord||0))/1e4;(0,y.useEffect)(()=>{if(t){let e=(0,M.KV)({text:l,boxHeight:R.U*k,boxWidth:R.q8*A,font:C,startFontSize:Math.floor(p||w||24)});x(e.lines),b(e.fontSize)}},[t,l]);let O=g*i,F=h?(0,I.pE)(O,j):{x:0,y:0},N=A*R.q8*i+2*F.x,Z=k*R.U*i+2*F.y,V=T*R.q8*i-F.x,B=a?`${100*E}%`:E*(R.q8/n)*i-F.y;return(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:V,top:B}},display:"flex",height:Z,position:"absolute",width:N,children:(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:(0,z.RK)({alignment:d,verticalAlignment:_})},children:(0,c.jsx)(o.xu,{display:"inlineBlock",maxWidth:"100%",children:(0,c.jsx)("p",{style:(0,z.BN)({fontSize:O,hexColor:m,letterSpacing:S,lineHeight:j,name:P}),children:f.map((e,t)=>(0,c.jsx)("span",{style:(0,z.xm)({fontSize:O,hasText:e.text.length>0,highlightColor:h||null,lineHeight:j}),children:t===f.length-1?e.text:(0,c.jsxs)(y.Fragment,{children:[e.text," ",(0,c.jsx)("br",{})]})},`paragraphLine-${t}-${(l??"").substr(0,9)}`))})})})})}var F=n(280348),N=n(19121);function Z({ownerId:e}){let t=(0,v.ZP)(),n=(0,N.Z)(),i=n.isAuth&&n.id===e;return(0,c.jsxs)(o.xu,{alignItems:"center",color:"tertiary",direction:"column",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:[(0,c.jsx)(o.xv,{color:"inverse",children:i?t.bt("Video Anda sedang diproses!", "Your video is processing!", "closeup.storyPin.videoPlaceholder", undefined, true):t.bt("Video masih diproses!", "This video is still processing!", "closeup.storyPin.videoPlaceholder", undefined, true)}),(0,c.jsx)(o.xv,{color:"inverse",children:t.bt("Periksa lagi nanti.", "Check back in a few minutes.", "closeup.storyPin.videoPlaceholder", undefined, true)})]})}var V=n(276602),B=n(47168),$=n(387957);let D=375,H=4,U=new o.Ry(3);function G({block:e,isActive:t,pwtTrackImageLoad:n,thumbnail:i}){let a=(0,v.ZP)(),o=e.image?.images?.["750x"]||e.image?.images?.["474x"],s=g({isUseCache:!0,signature:e.image_signature});if(!o&&!s)return null;let r=i?"cover":"none";return s?(0,c.jsx)(_,{alt:a.bt("Gambar Story PIN", "Story pin image", "closeup.storypin.renderer", undefined, true),fallbackSrc:s.media?.src??"",fit:r,isActive:t,naturalHeight:o?.height??1,naturalWidth:o?.width??1,onLoad:n,src:o?.url??""}):(0,c.jsx)(p.Z,{alt:a.bt("Gambar Story PIN", "Story pin image", "closeup.storypin.renderer", undefined, true),fit:r,isActive:t,naturalHeight:o?.height??1,naturalWidth:o?.width??1,onLoad:n,src:o?.url??""})}function X({activePageIndex:e,block:t,closeupStoryPinViewability:n,customEndCard:i,isActive:a,isSplitLayout:s=!1,musicRecordingId:r,muted:l,onEnded:d,onUpdateVideoInfo:u,ownerId:p,pageAspectRatio:h,pageDimensions:_,pageIndex:m,pinId:y,scaleFactor:b,stillLoading:f,videoThumbnailStartTime:x,thumbnail:v=!1}){let{block_style:{height:P=100,width:w=100,x_coord:S=0,y_coord:j=0}={},video:C}=t,A=D/h,{height:I,width:k}=_,T=w*D*b/100,E=P*A*b/100,z=(P<100?Math.min(Math.max(100,P)-Math.abs(j),P):Math.min(Math.max(P-Math.abs(j),0),100))*A*b/100,R=(w<100?Math.min(Math.max(100,w)-Math.abs(S),w):Math.min(Math.max(w-Math.abs(S),0),100))*D*b/100,M=Math.max(j,0)*A*b/100,L=Math.max(S,0)*D*b/100,O=g({isUseCache:!C,signature:t.video_signature});if(f)return null;let{media:N}=O||{},{duration:V,src:B}=N||{},$=!!B&&!!V;if(!C&&!$)return(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:L,top:M}},height:z,position:"absolute",width:R,children:(0,c.jsx)(Z,{ownerId:p})});let H=C?.video_list?.V_HLSV3_MOBILE||C?.video_list?.V_720P||$;return!!H&&(0,c.jsx)(o.xu,{height:s?"50%":"100%",overflow:"hidden",position:"relative",children:(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:L,top:M}},height:v?I:z,overflow:"hidden",position:"absolute",width:v?k:R,children:(0,c.jsx)(F.Z,{activePageIndex:e,blockHeight:v?I:E,blockWidth:v?k:T,closeupStoryPinViewability:n,customEndCard:i,isPlaying:a,musicRecordingId:r,muted:l,onEnded:d,onUpdateVideoInfo:u,pageIndex:m,pinId:y,roundCorners:E>=I&&T>=k,video:C||{video_list:{V_EXP7:{duration:V?1e3*V:0,url:B}}},videoThumbnailStartTime:x})})})}let K=void 0!==a?a:a=n(360980);function W({activePageIndex:e,block:t,closeupStoryPinViewability:n,customEndCard:i,disableProductStickers:a,fontsLoaded:s,isActive:r,isSplitLayout:l=!1,musicRecordingId:d,muteVideos:p,onEnded:h,onFlyoutOpen:_,onImageLoaded:m,onUpdateVideoInfo:g,ownerId:y,pageAspectRatio:b,pageHeight:f,pageIndex:x,pageWidth:v,pinId:P,previewOnly:w,pinKey:S,stillLoading:C=!1,thumbnail:A=!1,transform:k,videoPinProgress:T,videoThumbnailStartTime:z}){let R=(0,j.Z)(K,S),{block_style:{height:M=100,width:L=100,x_coord:F=0,y_coord:N=0}={},interactive_sticker_type:Z=null}=t,H=(0,B.g)(),U=(0,V.E)();if(0===M||0===L)return null;let W=v/D;switch(t.type){case I.h8.PARAGRAPH:case I.h8.HEADING:return(0,c.jsx)(O,{block:t,fontsLoaded:s,pageAspectRatio:b,scaleFactor:W,thumbnail:A});case I.h8.VIDEO:return(0,c.jsx)(X,{activePageIndex:e,block:t,closeupStoryPinViewability:n,customEndCard:i,isActive:r,isSplitLayout:l,musicRecordingId:d,muted:p,onEnded:h,onUpdateVideoInfo:g,ownerId:y,pageAspectRatio:b,pageDimensions:{height:f,width:v},pageIndex:x,pinId:P,scaleFactor:W,stillLoading:C,thumbnail:A,videoThumbnailStartTime:z});case I.h8.IMAGE:let{scaleX:q=1,scaleY:Y=1}=k||{};return(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{height:`${M}%`,left:`${F*q}%`,top:`${N*Y}%`,width:`${L}%`}},overflow:"hidden",position:"absolute",children:(0,c.jsx)(G,{block:t,isActive:r,pwtTrackImageLoad:()=>{H&&r&&(H.addBinaryAnnotation("pin.id",P,"STRING"),H.addBinaryAnnotation("video",!1,"BOOL"),H.stop()),U&&r&&(U.addBinaryAnnotation("pin.id",P,"STRING"),U.addBinaryAnnotation("video",!1,"BOOL"),U.removeConstraint($._z),U.markConstraintComplete($.pM)),m&&m()},thumbnail:A})});case I.h8.MENTION_STICKER:return!w&&(0,c.jsx)(E,{block:{...t},elementType:12120,onFlyoutOpen:_,pageAspectRatio:b,pageIndex:x,pinKey:null,scaleFactor:W,tooltipElementType:12121,videoPinProgress:T});case I.h8.GENERIC_STICKER:return!w&&(e=>{let t=5===Z;return(0,c.jsx)(E,{block:{...e},elementType:t?12827:12858,onFlyoutOpen:_,pageAspectRatio:b,pageIndex:x,pinKey:null,scaleFactor:W,tooltipElementType:t?12828:12859,videoPinProgress:T})})(t);case I.h8.PRODUCT_STICKER:return!w&&!a&&(0,c.jsx)(E,{block:{...t},elementType:12223,onFlyoutOpen:_,pageAspectRatio:b,pageIndex:x,pinKey:R,scaleFactor:W,tooltipElementType:12224,videoPinProgress:T});case I.h8.VTO_MAKEUP_STICKER:return!w&&(0,c.jsx)(E,{block:{...t},elementType:12561,onFlyoutOpen:_,pageAspectRatio:b,pageIndex:x,pinKey:null,scaleFactor:W,tooltipElementType:12561,videoPinProgress:T});case I.h8.COMMENT_REPLY_STICKER:return t.type===I.h8.COMMENT_REPLY_STICKER&&!w&&(0,c.jsx)(u,{block:t,pageAspectRatio:b,scaleFactor:W});default:return null}}},590670:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var i=n(790904),a=n(898781),o=n(334005),s=n(785893);function r({controllerOptions:e,iconColor:t,iconOnly:n,buttonText:r,tabIndex:l=0,stackedCloseupEnabled:d=!1}){let c=(0,a.ZP)();return(0,s.jsx)(o.Z,{...e,children:({handleSendShareFlyoutButtonClick:e})=>(0,s.jsx)(i.Z,{accessibilityLabel:c.bt("Kirim", "Send", "Accessible label for button to send this pin", undefined, true),bgColor:d?"white":void 0,buttonText:r,handleClick:()=>e(),icon:"share",iconColor:t,iconOnly:n,tabIndex:l,testId:"closeup-share-button"})})}},238464:(e,t,n)=>{n.d(t,{Z:()=>N});var i=n(667294),a=n(883119),o=n(590670),s=n(407043),r=n(946984),l=n(898781),d=n(67347),c=n(785893);function u(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let p={overlay:{__style:{backgroundColor:"#000"}}};class h extends i.PureComponent{constructor(...e){super(...e),u(this,"handleRestartVideo",({event:e})=>{e.stopPropagation(),this.props.onRestartVideo?.({event:e}),(0,d.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"restart",variant:"enabled_send_first"}})}),u(this,"handleShareVideo",()=>{let{onToggleFlyout:e,isFlyoutOpen:t,pinId:n,requireAuth:i,logContextEvent:a}=this.props;if(t&&(0,d.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"shareSheetOpen",variant:"enabled_send_first"}}),a({event_type:101,component:179,object_id_str:n,view_type:3,view_parameter:156,element:11731}),i){i();return}e&&e()}),u(this,"handleExternalSend",()=>{(0,d.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"shareSheetOpen",variant:"enabled_send_first"}})}),u(this,"renderReplayButton",()=>(0,c.jsx)(a.iP,{accessibilityLabel:this.props.i18n.bt("Tonton lagi", "Watch again", "Button when pressed restarts the video", undefined, true),onTap:this.handleRestartVideo,rounding:2,children:(0,c.jsxs)(a.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,c.jsx)(a.xu,{marginEnd:3,children:(0,c.jsx)(a.JO,{accessibilityLabel:this.props.i18n.bt("Tonton lagi", "Watch again", "Button when pressed restarts the video", undefined, true),color:"inverse",icon:"refresh",size:18})}),(0,c.jsx)(a.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n.bt("Tonton lagi", "Watch again", "Clickable label when pressed restarts the video", undefined, true)})]})})),u(this,"renderShareButton",()=>{let{gridDescription:e,imageSrc:t,isFlyoutOpen:n,onFlyoutDismiss:i,pinId:s}=this.props;return(0,c.jsx)(a.iP,{accessibilityLabel:this.props.i18n.bt("Kirim", "Send", "end.video.send.icon.label", undefined, true),onTap:this.handleShareVideo,rounding:2,children:(0,c.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,children:[(0,c.jsx)(o.default,{controllerOptions:{flyoutDisplayOptions:{shownWithinMasonry:!0},loggingOptions:{component:179,element:72,onExternalSend:this.handleExternalSend,viewType:3},isFlyoutOpen:n,onFlyoutDismiss:i,onToggleFlyout:()=>{},sendObject:{type:"pin",description:e,id:s,imageUrl:t,url:`/pin/${s}/`}},iconColor:"white",iconOnly:!0,tabIndex:-1}),(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n.bt("Kirim", "Send", "end.video.send.icon.label", undefined, true)})})]})})})}componentDidMount(){let{pinId:e,logContextEvent:t}=this.props;(0,d.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"land",variant:"enabled_send_first"}}),t({event_type:13,component:179,object_id_str:e,view_type:3,view_parameter:156,element:11731})}render(){let{backgroundImage:e,naturalHeight:t,naturalWidth:n,pinTitle:i}=this.props;return(0,c.jsx)(a.xu,{children:(0,c.jsxs)(a.Ee,{alt:i||"",naturalHeight:t,naturalWidth:n,src:e,children:[(0,c.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:p.overlay,left:!0,position:"absolute",right:!0,top:!0}),(0,c.jsx)(a.xu,{alignItems:"center",direction:"column",display:"flex",height:"100%",justifyContent:"center",left:!0,position:"absolute",top:!0,width:"100%",children:(0,c.jsxs)(a.xu,{position:"absolute",children:[(0,c.jsx)(a.xu,{children:this.renderShareButton()}),(0,c.jsx)(a.xu,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}function _(e){let{logContextEvent:t}=(0,s.v)(),n=(0,l.ZP)(),i=(0,r.Z)();return(0,c.jsx)(h,{...e,i18n:n,logContextEvent:t,requireAuth:i})}let m=({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:i,pinTitle:o})=>{let s=(0,l.ZP)();return(0,c.jsx)(a.xu,{children:(0,c.jsxs)(a.Ee,{alt:o||"",naturalHeight:t,naturalWidth:n,src:e,children:[(0,c.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:p.overlay,left:!0,opacity:.8,position:"absolute",right:!0,top:!0}),(0,c.jsx)(a.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:"absolute",top:!0,width:"100%",children:(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.iP,{onTap:i,rounding:2,children:(0,c.jsxs)(a.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,c.jsx)(a.hU,{accessibilityLabel:s.bt("Putar ulang", "Replay", "closeupVideo.endCard.ReplayButton", undefined, true),icon:"refresh",iconColor:"white",size:"md"}),(0,c.jsx)(a.X6,{color:"light",overflow:"normal",size:"400",children:s.bt("Putar ulang", "Replay", "closeupVideo.endCard.ReplayButton", undefined, true)})]})})})})]})})};var g=n(366284),y=n(773285),b=n(466225),f=n(276602),x=n(47168),v=n(985271),P=n(780280),w=n(646422),S=n(534611),j=n(224496),C=n(858416),A=n(704115),I=n(50286),k=n(179888),T=n(965900),E=n(387957),z=n(944546),R=n(926749);function M(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let L=e=>!!e&&e.endsWith(".gif"),O=(e,t)=>{t({currentTime:e?.currentTime??0,duration:e?.duration??1})};class F extends i.Component{constructor(...e){super(...e),M(this,"state",{controls:"always"===this.props.showControls&&!this.props.disabled,fullscreen:!1,playing:!(0,g.G6)(this.props.requestContext.userAgent.browserName)&&!!this.props.autoplay&&!this.props.disabled,ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted||this.props.shouldMute?0:1,videoStartTime:this.props.videoStartTime||0}),M(this,"setVideoPwtLoadingStop",(e=!1)=>{if(!v.Z)return;let{storyPinStepStopwatch:t,pinId:n,pwtSurfaceContext:i}=this.props;t&&(e||t.addAnnotation("video.startup.end"),t.addBinaryAnnotation("pin.id",n,"STRING"),t.addBinaryAnnotation("video",!0,"BOOL"),t.addBinaryAnnotation("preload",e,"BOOL"),t.addSubspan({name:"perceived_video_load",endTime:v.Z.now()}),t.stop()),i&&(e||i.addAnnotation("video.startup.end"),i.addBinaryAnnotation("pin.id",n,"STRING"),i.addBinaryAnnotation("video",!0,"BOOL"),i.markConstraintComplete(E._z),i.addSubspan("perceived_video_load",null,v.Z.now()),"story_pin"===i.getMetricId().segment&&i.removeConstraint(E.pM))}),M(this,"componentDidMount",()=>{let{customThumbnail:e,video:t,preferMp4:n}=this.props,{mp4:i}=t,a=t.hlsv3||t.hls||null,{thumbnail:o}=n&&i||a||{},s=(0,z.j4)(e||o);s?.ready===4&&(this.setState({ready:!0}),this.props.autoplay&&this.setVideoPwtLoadingStop(!0))}),M(this,"componentDidUpdate",(e,t)=>{this.props.videoStartTime&&this.props.videoStartTime!==e.videoStartTime&&this.setState({videoStartTime:this.props.videoStartTime}),!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:"never"!==this.props.showControls}),e.isPlaying&&!1===this.props.isPlaying&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop(!0)),e.muted!==this.props.muted&&this.setState({volume:this.props.muted?0:1}),"never"===this.props.showControls&&t.controls&&this.setState({controls:!1}),(t.controls||t.playing)&&this.props.disabled&&this.setState({playing:!1,controls:!1}),!t.playing&&this.state.playing&&this.props.onPlay&&this.props.onPlay()}),M(this,"handleTouch",()=>{let{seeking:e}=this.state,{disabled:t}=this.props;e||t||this.setState(e=>({playing:!e.playing}))}),M(this,"handleShowControls",()=>this.setState({controls:!0})),M(this,"handleHideControls",()=>this.setState({controls:!1})),M(this,"handleReady",()=>{let{ready:e,playing:t}=this.state,{autoplay:n,disabled:i}=this.props;n&&!e&&this.setVideoPwtLoadingStop(),this.setState({ready:!0}),(0,g.G6)(this.props.requestContext.userAgent.browserName)&&!t&&n&&!i&&this.setState({playing:!0})}),M(this,"handleEnded",({event:e})=>{let{customThumbnail:t,customEndCard:n,pinId:i,setCurrentVideo:a,loop:o,onEnded:s}=this.props;e.stopPropagation(),!o&&(this.setState({playing:!1}),L(t)||n||(this.setState({showEndCard:!0,videoStartTime:0}),a({pinId:i,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen()),s&&s()}),M(this,"handlePause",({event:e})=>{e.stopPropagation(),this.setState({playing:!1})}),M(this,"handlePlay",({event:e})=>{e.stopPropagation(),this.setState({playing:!0})}),M(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})}),M(this,"handlePlayheadDown",()=>{this.setState({seeking:!0})}),M(this,"handlePlayheadUp",()=>{setTimeout(()=>{this.setState({seeking:!1})},500)}),M(this,"handleRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),M(this,"handleShareRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),M(this,"handleVolumeChange",({event:e,volume:t})=>{let{shouldMute:n}=this.props;e.stopPropagation(),n||this.setState({volume:t})}),M(this,"exitFullscreen",()=>{let{document:e}=window;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())}),M(this,"requestFullscreen",()=>{let{customThumbnail:e,video:t,preferMp4:n}=this.props,{mp4:i}=t,a=t.hlsv3||t.hls||null,{thumbnail:o}=n&&i||a||{},s=(0,z.j4)(e||o);s.requestFullscreen?s.requestFullscreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.msRequestFullscreen&&s.msRequestFullscreen()}),M(this,"renderCloseupVideoEndCard",(e,t,n,i)=>{let a={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleShareRestartVideo},o={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleRestartVideo},{flyoutShareProps:s}=this.props,r={gridDescription:s?s.gridDescription:"",imageSrc:s?s.imageSrc:"",isFlyoutOpen:!!s&&s.isFlyoutOpen,onFlyoutDismiss:s?s.onFlyoutDismiss:()=>{},onToggleFlyout:s?s.onToggleFlyout:()=>{},pinId:s?s.pinId:""};return i?(0,c.jsx)(m,{...o}):(0,c.jsx)(_,{...r,...a})})}render(){let e;let{autoplay:t,closeupStoryPinViewability:n,contextLogData:i={component:179,is_closeup_video:!0,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:o,isPromoted:s,loop:r,objectFit:l,preferMp4:d,preload:u,requestContext:p,roundingOverride:h,showControls:_,variant:m,video:y,captions:f,isDesktop:x,videoThumbnailStartTime:v,pinId:P,setProgressInfo:C,progressInfo:A,setPanelOpen:I,panelOpen:T,setMute:E,isMuted:M,captionsExpGroup:L,onTimeChange:F}=this.props;i.is_closeup_video=!0;let{controls:N,fullscreen:Z,playing:V,showEndCard:B,volume:$,videoStartTime:D}=this.state,H=y.hlsv3||y.hls||null;if(!H&&!y.mp4)return null;let{mp4:U}=y,G=d&&U&&U.url||H&&[{type:"video/m3u8",src:H.url}]||void 0,{height:X,thumbnail:K,width:W}=d&&U||H||{},q=o||K;return e=null!=h?h:"default"===m?0:"storyPin"===m?j.yR:2,(0,c.jsxs)(a.zd,{rounding:e,wash:!0,willChangeTransform:!((0,g.G6)(p.userAgent.browserName)&&Z),children:[B?this.renderCloseupVideoEndCard(q??"",X??1,W??1,s):(0,c.jsxs)(a.iP,{accessibilityLabel:this.props.i18n.bt("Jeda atau putar video", "Pause or play video", "pin.closeup.video.tap", undefined, true),onMouseEnter:"hover"===_?this.handleShowControls:void 0,onMouseLeave:"hover"===_?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:[L&&(0,b.Z)(L)&&(0,c.jsx)(w.Z,{playing:V,zIndexValue:99}),(0,c.jsx)(R.ZP,{aspectRatio:(W??1)/(X??1),captions:f&&(0,b.Z)(L||"")||"storyPin"===m?f:"",closeupStoryPinViewability:n,contextLogData:{...i,video_id:this.props.video.id},controls:!(L&&(0,b.Z)(L))&&N,hlsConfig:{startLevel:z.VS},isAutoPlay:!!t,loop:r,objectFit:l,onControlsPause:this.handlePause,onControlsPlay:this.handlePlay,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:"storyPin"===m?F:({time:e})=>{if(O&&"number"==typeof U?.duration&&U.duration>0&&C){let t=U.duration/k.gJ;O({currentTime:e,duration:t},C)}},onVolumeChange:this.handleVolumeChange,playing:V,poster:q,preferMp4:d,preload:u,src:G,videoStartTime:D||v,volume:$})]}),(0,c.jsx)(a.xu,{onMouseEnter:"hover"===_?this.handleShowControls:void 0,onMouseLeave:"hover"===_?this.handleHideControls:void 0,children:"storyPin"!==m&&L&&(0,b.Z)(L)&&(0,c.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...z.Ul,flexDirection:"column-reverse"}},display:"flex",height:z.hy,paddingX:6,position:"absolute",width:"calc(100% - 4px)",zIndex:j.Gf,children:(0,c.jsx)(S.Z,{activePageIndex:0,captionsExpGroup:L,captionsUrl:f,handleMute:()=>{this.setState({volume:M?1:0}),E(!M)},handlePanelChange:()=>{I&&I(!T),T&&x&&this.requestFullscreen()},handlePause:()=>{this.setState({playing:!0})},handlePausePlay:()=>{this.setState({playing:!V})},handlePlay:()=>{this.setState({playing:!0})},handleWatchAgain:this.handleRestartVideo,isMuted:M,isPanelOpen:T,isPlaying:V,isStoryPin:!1,pageCount:1,pages:[],pinId:P,progressInfo:A,showEndCard:B,showVideoControls:N,viewParameter:156})})})]})}}function N(e){let t=(0,l.ZP)(),n=(0,P.B)(),{isAuthenticated:a}=n,o=(0,x.g)(),s=(0,f.E)(),{seekTime:r}=(0,C.Hx)(),{pinId:d,isPromoted:u,video:p,muted:h,variant:_}=e,{appUI:m,setCurrentVideo:g}=(0,T.I)(),{videosAutoplaying:b}=m,{organicVideosAutoplaying:v,promotedVideosAutoplaying:w}=b,S=n.locale.toLowerCase(),j=(p.mp4?.captions_urls||p.hlsv3?.captions_urls)??{},k=S&&j[S]||Object.values(j)[0]||"",{checkExperiment:E}=(0,y.F)(),z=(0,I.HG)(),R="storyPin"!==_&&k&&z&&a?E("auth_desktop_video_pin_captions").group:"",M=u?w[d]:v[d],L=(0,A.Z)(),O=parseInt(L.t||0,10),[N,Z]=(0,i.useState)(M?.currentTime||0),[V,B]=(0,i.useState)(null),[$,D]=(0,i.useState)(!0),[H,U]=(0,i.useState)(h);return(0,i.useEffect)(()=>{let e=N;O>0&&(e=O),r&&(e=r),Z(e)},[r,O,N]),(0,c.jsx)(F,{...e,captions:String(k)||"",captionsExpGroup:R,i18n:t,isDesktop:z,isMuted:H,isPlaying:!M||!M.paused,panelOpen:$,progressInfo:V,pwtSurfaceContext:s,requestContext:n,setCurrentVideo:g,setMute:U,setPanelOpen:D,setProgressInfo:B,storyPinStepStopwatch:o,videoStartTime:N})}M(F,"defaultProps",{loop:!1,showControls:"hover"})},441253:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(537347),a=n.n(i),o=n(67347);function s(e){if("undefined"==typeof window||!document.head)return(0,o.nP)("load_fonts.failure",{sampleRate:1,tags:{failure_reason:"window undefined"}}),Promise.reject(Error("Window is undefined or no head on the document. Unable to load fonts"));let{head:t}=document,n=[];return e.forEach(e=>{e.styles.forEach(i=>{let o=document.querySelector(`#${e.fontFamily??""}-${i.name}`);if(!o){if((o=document.createElement("style")).setAttribute("id",`${e.fontFamily??""}-${i.name}`),t.appendChild(o),e.format&&i.fontUrl&&o&&o.sheet){let t=o.sheet;t.insertRule(`
            @font-face {
              font-family: "${e.fontFamily??""}";
              font-style: "${i.fontStyle}";
              font-weight: "${i.fontWeight}";
              src: url("${i.fontUrl}") format("${e.format}");
            }
          `,0)}n.push(new(a())(e.fontFamily,{style:i.fontStyle,weight:i.fontWeight}).load())}})}),Promise.all(n).then(()=>{Promise.resolve()}).catch(e=>{(0,o.nP)("load_fonts.failure",{sampleRate:1,tags:{failure_reason:"unsuccessful load"}}),Promise.reject(e)})}},301723:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(883119);let o=(0,i.createContext)();var s=n(785893);function r(e){(0,i.useContext)(o);let{alt:t,color:n,children:r,crossOrigin:l,decoding:d,elementTiming:c,fetchPriority:u,fit:p,loading:h,naturalHeight:_,naturalWidth:m,onError:g,onLoad:y,role:b,sizes:f,src:x,srcSet:v}=e;return(0,s.jsx)(a.Ee,{alt:t,color:n,crossOrigin:l,decoding:d,elementTiming:c,fetchPriority:u,fit:p,loading:h,naturalHeight:_,naturalWidth:m,onError:g,onLoad:y,role:b,sizes:f,src:x,srcSet:v,children:r})}},523657:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294);n(883119);var a=n(301723),o=n(785893);let s=e=>document.querySelector(`img[src="${e}"]`)||null,r=(e,t,n)=>{let a=(0,i.useRef)(null),o=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(e!==a.current||n&&n!==o.current){a.current=e;let n=s(e);n?.complete&&t()}o.current=n},[e,t,n])};function l({alt:e,children:t,color:n,elementTiming:i,isActive:s=!1,naturalHeight:l,naturalWidth:d,onLoad:c,src:u,fit:p="none"}){return r(u,c,s),(0,o.jsx)(a.Z,{alt:e,color:n,elementTiming:i,fit:p,naturalHeight:l,naturalWidth:d,onLoad:c,src:u,children:t})}},584992:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),a=n(425288),o=n(790348),s=n(198462),r=n(383434),l=n(543059),d=n(607150),c=n(638089),u=n(860273),p=n(453821),h=n(558775),_=n(505771),m=n(729524),g=n(169213),y=n(358864),b=n(985271);let f=(0,r.XV)("PwtStopwatch"),x=(e,t)=>{if(b.Z){if("start"===t.type&&!e.isTiming){let{name:n,startTime:i,navigationType:a}=t;return(0,o.A9)(`TIMING.${n}`),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof i?i:b.Z.now(),metricId:{type:"stopwatch",name:n,navigationType:a},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming){if(t.bypassIsTimingCheck)f("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t);else{let n=t.name||e.name;return f("ignoring action - stopwatch is not actively timing",t),(0,o.A9)(`WARN.${n}.noTiming.${t.type}`),e}}if("annotate"===t.type){let n=b.Z.now();return f(`adding annotation {${t.label}: ${n}}`),{...e,annotations:e.annotations.concat([{label:t.label,timestamp:n}])}}if("binaryAnnotate"===t.type)return f(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:t.value,type:t.annotationType}}};if("binaryAnnotateOperation"===t.type){let{value:n,type:i}=t.binaryAnnotationValueAndType;if(!e.binaryAnnotations[t.name])return{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n,type:i}}};{let a=e.binaryAnnotations[t.name].value||0;return f(`operating on binary annotation {
          name: ${t.name}
          pervious value: ${String(a)}
          operand: ${String(n)}
        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n?t.operation(a,n):a,type:i}}}}}if("addSubspan"===t.type){f(`adding subspan {${t.name}}`);let n=e.spans.findIndex(e=>e.name===t.name);-1!==n&&f(`WARNING: adding duplicate subspan name {${t.name}}`);let i=t.id||(0,y.Z)(),a=e.spans.findIndex(e=>e.id===i);-1!==a&&f(`WARNING: adding duplicate subspan id {${t.name}: ${i}}`);let o=0;return t.startTime?o=t.startTime:e.startTime?o=e.startTime:f(`WARNING: adding subspan {${t.name}} without start time`),{...e,spans:[...e.spans,{name:t.name,id:i,startTime:o,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){f(`starting subspan {${t.name}}`);let n=e.spans.findIndex(e=>e.name===t.name);-1!==n&&f(`WARNING: starting duplicate subspan name {${t.name}}`);let i=t.id||(0,y.Z)(),a=e.spans.findIndex(e=>e.id===i);-1!==a&&f(`WARNING: starting duplicate subspan id {${t.name}: ${i}}`);let o=t.parentName?e.spans.find(e=>e.name===t.parentName)?.id:null;return{...e,spans:[...e.spans,{name:t.name,id:i,parentId:t.parentId||o,startTime:b.Z.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){if(f(`stopping subspan {${t.name}}`),!t.id){let n=e.spans.reduce((e,n)=>n.name===t.name?[...e,n]:e,[]);n.length>1&&(0,o.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type})}let n=t.id?e.spans.findIndex(e=>e.id===t.id):e.spans.findIndex(e=>e.name===t.name);return n>-1?(e.spans[n].endTime=b.Z.now(),t.annotations&&(e.spans[n].annotationMap={...e.spans[n].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[n].binaryAnnotationMap={...e.spans[n].binaryAnnotationMap,...t.binaryAnnotations})):(0,o.H)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){let n=e.spans.reduce((e,n)=>n.name===t.currentName?[...e,n]:e,[]);n.length>1&&(0,o.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});let i=e.spans.findIndex(e=>e.name===t.currentName);return i>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[...e.spanNameUpdates,{currentName:t.currentName,newName:t.newName}]:(f(`renaming subspan {${t.currentName}} to {${t.newName}}`),e.spans[i].name=t.newName):(0,o.H)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){let{startTime:n,metricId:i,pwtStaticContext:a,annotations:o,binaryAnnotations:s,isSampled:r,spans:g,traceId:x}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),r){let r=t.stopTime||b.Z.now(),v=[...g.map(t=>{t.endTime===1/0&&(t.endTime=r);let n=e.spanNameUpdates.findIndex(e=>t.name===e.currentName);return n>-1&&(f(`renaming subspan {${t.name}} to {${e.spanNameUpdates[n].newName}}`),t.name=e.spanNameUpdates[n].newName,e.spanNameUpdates=e.spanNameUpdates.filter(e=>e.newName!==t.name)),t})];if(t.manualAndResourceSpans||0===g.length){let e=(0,y.Z)();v.push({name:"network_resources",id:e,startTime:n,endTime:r,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map(t=>(0,_.Z)((0,p.p)(t,[]),e)).filter(Boolean))}let P="initial_app_load"===i.navigationType&&(0,u.Z)(),w={type:"COMPLETE",traceId:x,startTime:n,endTime:r,spans:v,annotationMap:{...(0,m.Z)(o),...(0,d.jh)("browser_",P?(0,d.D3)(P):{}),...(0,d.jh)("mark_",(0,l.gQ)())},binaryAnnotationMap:(0,c.ng)({metricId:i,pwtStaticContext:a,binaryAnnotations:s,performanceResourceTimings:t.customStopwatchBuffer||[]})};(0,h.Z)({metricId:i,pwtStaticContext:a,result:w})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,y.Z)(),spanNameUpdates:[]}}if("error"===t.type){let{error:n,stopwatchPerformanceObserver:i}=t;return n&&(0,o.H)(n),i&&i.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,y.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();let{metricId:n,pwtStaticContext:i}=e,a=t.reason||"";return(0,h.Z)({metricId:n,pwtStaticContext:i,result:{type:"ABORT",reason:a}}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,y.Z)(),spanNameUpdates:[]}}}return e},v=({name:e,sampleRate:t,navigationType:n,manualAndResourceSpans:a=!1})=>{let o=(0,s.N5)(),r=(0,i.useRef)([]),l=(0,i.useRef)(null),[d,c]=(0,i.useReducer)(x,{isTiming:!1,name:e,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,y.Z)(),spanNameUpdates:[]});return o?{isTiming:d.isTiming,start:i=>(window.PerformanceObserver&&(r.current=[],l.current=(0,g.Z)({entryTypes:["resource"]},e=>{r.current=r.current.concat(e.getEntries()),r.current.length>1e3&&(r.current=r.current.slice(-1e3))})),c({type:"start",startTime:i,name:e,navigationType:n,pwtStaticContext:o,isSampled:!t||Math.random()<t})),stop:e=>c({type:"stop",stopTime:e,stopwatchPerformanceObserver:l.current,customStopwatchBuffer:r.current,manualAndResourceSpans:a}),error:e=>{c({type:"error",stopwatchPerformanceObserver:l.current,error:e})},abort:e=>c({type:"abort",stopwatchPerformanceObserver:l.current,customStopwatchBuffer:r.current,reason:e}),annotate:(e,t,n=!1)=>c({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n}),binaryAnnotate:(e,t,n,i,a=!1)=>c({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:i,bypassIsTimingCheck:a}),binaryAnnotateOperation:({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a=!1})=>c({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a}),addSubspan:({name:e,startTime:t,endTime:n,annotations:i={},binaryAnnotations:a={},parentId:o=null,id:s=null,bypassIsTimingCheck:r=!1})=>c({type:"addSubspan",name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:o,id:s,bypassIsTimingCheck:r}),subspanStart:({name:e,annotations:t={},binaryAnnotations:n={},parentId:i=null,parentName:a=null,id:o=null,bypassIsTimingCheck:s=!1})=>c({type:"subspanStart",name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:a,id:o,bypassIsTimingCheck:s}),subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:o=!1})=>c({type:"subspanStop",name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:o}),subspanUpdateName:({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i=!0})=>c({type:"subspanUpdateName",currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i}),getSpans:(e,t)=>d.spans.filter(n=>n[e]===t),getTraceId:()=>d.traceId}:null};var P=n(785893);let w=({name:e,sampleRate:t,abortOnUnloadOrClientNavigation:n=!0,navigationType:r,manualAndResourceSpans:l=!1})=>{let{Provider:d,useMaybeHook:c}=(0,a.Z)(`Stopwatch_${e}`);return{Provider:function({children:a}){let c=v({name:e,sampleRate:t,navigationType:r,manualAndResourceSpans:l}),u=(0,s.fM)(),p=u?u.time:0,h=(0,i.useRef)(!1),_=c?.isTiming,m=(0,i.useCallback)(t=>{h.current?(h.current=!1,c?.abort(t)):(0,o.A9)(`WARN.${e}.noTiming.abort`)},[c]),g=(0,i.useCallback)((e,t)=>{c?.annotate(e,t)},[c]),y=(0,i.useCallback)((e,t,n,i)=>{c?.binaryAnnotate(e,t,n,i)},[c]),b=(0,i.useCallback)(({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a})=>{c?.binaryAnnotateOperation({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a})},[c]),f=(0,i.useCallback)(({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:o,id:s,bypassIsTimingCheck:r})=>{c?.addSubspan({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:o,id:s,bypassIsTimingCheck:r})},[c]),x=(0,i.useCallback)(({name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:a,id:o,bypassIsTimingCheck:s})=>{c?.subspanStart({name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:a,id:o,bypassIsTimingCheck:s})},[c]),w=(0,i.useCallback)(({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:o})=>{c?.subspanStop({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:o})},[c]),S=(0,i.useCallback)(({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i})=>{c?.subspanUpdateName({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i})},[c]),j=(0,i.useCallback)((e,t)=>c?c.getSpans(e,t):[],[c]),C=(0,i.useCallback)(()=>c?c.getTraceId():0,[c]),A=(0,i.useCallback)(t=>{h.current?(h.current=!1,c?.error(t)):(0,o.A9)(`WARN.${e}.noTiming.error`)},[c]),I=(0,i.useCallback)(e=>{h.current&&c?.abort("duplicated_init_stopwatch_action"),h.current=!0,c?.start(e)},[c]),k=(0,i.useCallback)(t=>{h.current?(h.current=!1,c?.stop(t)):(0,o.A9)(`WARN.${e}.noTiming.stop`)},[c]);(0,i.useEffect)(()=>()=>{n&&m("unloadOrClientNavigation")},[p]);let T=(0,i.useMemo)(()=>({isTiming:_,abort:m,addAnnotation:g,addBinaryAnnotation:y,binaryAnnotationOperation:b,addSubspan:f,subspanStart:x,subspanStop:w,getSpans:j,getTraceId:C,updateSubspanName:S,stop:k,error:A,start:I}),[_,m,g,y,b,f,x,w,j,C,S,k,A,I]);return(0,P.jsx)(d,{value:T,children:a})},useHook:c}}},47168:(e,t,n)=>{n.d(t,{T:()=>s,g:()=>r});var i=n(584992);let{Provider:a,useHook:o}=(0,i.Z)({name:"story_pin_step",sampleRate:1}),s=a,r=o},646422:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),a=n(883119),o=n(391254),s=n(224496),r=n(252417),l=n(785893);function d({playing:e,zIndexValue:t}){return(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(o.Z,{unsafeCSS:"#story-pin-closeup-pause-play-overlay svg { filter: drop-shadow( 0px 0px 8px rgba(0,0,0,0.1));}"}),(0,l.jsx)(a.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"story-pin-closeup-pause-play-overlay",display:"flex",id:"story-pin-closeup-pause-play-overlay",justifyContent:"center",left:!0,opacity:.8,position:"absolute",right:!0,rounding:s.yR,top:!0,zIndex:t?new a.Ry(t):r.lt,children:!e&&(0,l.jsx)(a.JO,{accessibilityLabel:"Play",color:"light",icon:"play",size:48})})]})}},534611:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(667294),a=n(883119),o=n(898781),s=n(623568),r=n(773285),l=n(466225),d=n(780280),c=n(654579),u=n(224496),p=n(858416),h=n(50286),_=n(179888),m=n(994320),g=n(785893);let y=({accessibilityLabel:e,dataTestId:t,disable:n,handleTap:i,icon:o})=>(0,g.jsx)(a.xu,{"data-test-id":t,opacity:n?.5:void 0,children:(0,g.jsx)(a.iP,{disabled:n,onTap:i,children:(0,g.jsx)(a.JO,{accessibilityLabel:e,color:"light",icon:o,size:16})})});function b({activePageIndex:e,handlePanelChange:t,handlePlay:n,handlePause:b,handlePausePlay:f,handleMute:x,handleVideoScrubbingNewPage:v,handleWatchAgain:P,isPlaying:w,isMuted:S,isPanelOpen:j,pages:C,pageCount:A,pinId:I="",progressInfo:k,showEndCard:T,showVideoControls:E=!1,viewParameter:z,isStoryPin:R=!0,captionsUrl:M="",captionsExpGroup:L=""}){let O=(0,o.ZP)(),{currentTime:F}=k||{},{seekTimes:N}=(0,p.Hx)(),Z=(0,d.B)(),V=(0,m.r)(),{checkExperiment:B}=(0,r.F)(),$=(0,h.HG)(),{isAuthenticated:D}=Z,{captionsEnabled:H}=V,U=C[e],{should_mute:G}=U||S,X=Object.keys(N).includes(I)&&N[I]?N[I]:F,K=(0,i.useMemo)(()=>C.map(e=>{let t=e.blocks?.find(e=>3===e.block_type),n=t?.video?.video_list?.V_HLSV3_MOBILE?.duration||t?.video?.video_list?.V_720P?.duration;return n?{duration:n,isVideo:!0}:{duration:s.oN,isVideo:!1}}),[C]),W=[{duration:k?.duration||0,isVideo:!0}],q=R?K:W,Y=(U&&U.blocks?.[0]||{}).video?.video_list?.V_HLSV3_MOBILE?.captions_urls,J=!1;(Y&&0!==Object.keys(Y).length||M)&&(J=!0);let Q=R&&J&&$?B(D?"auth_desktop_video_pin_captions":"unauth_desktop_video_pin_captions").group:"",ee=L||Q,et=(0,l.Z)(ee),en=(0,i.useMemo)(()=>q.reduce((e,t)=>e+(t.duration||0),0)/(R?_.gJ:1),[q,R]),ei=(0,i.useMemo)(()=>q.filter((t,n)=>n<e).reduce((e,t)=>e+(t.duration||0),0)/_.gJ,[q,e]),ea=q.length>0&&q[e].isVideo?X+ei:5*F+ei,eo=O.bt("Sembunyikan teks", "Hide captions", "gestalt.video.accessibilityHideCaptionsLabel", undefined, true),es=O.bt("Tampilkan teks", "Show captions", "gestalt.video.accessibilityShowCaptionsLabel", undefined, true);return(0,g.jsxs)(a.xu,{alignContent:"evenly",alignItems:"baseline",dangerouslySetInlineStyle:{__style:{gap:"18.5px",pointerEvents:"auto"}},direction:"column",display:"flex",justifyContent:"between",width:"100%",children:[(0,g.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:E||!w?1:0,transition:"all .1s"}},direction:"row",display:"flex",justifyContent:"between",width:"99%",children:[(0,g.jsxs)(a.kC,{alignItems:"center",direction:"row",gap:5,children:[(0,g.jsx)(y,{accessibilityLabel:w?O.bt("Jeda", "Pause", "closeup.IdeaPinVideo.Pause", undefined, true):O.bt("Putar", "Play", "closeup.IdeaPinVideo.Play", undefined, true),dataTestId:`story-pin-closeup-${w?"pause":"play"}`,handleTap:T&&P?P:f,icon:w?"pause":"play"}),k&&(0,g.jsxs)(a.xu,{"data-test-id":"time-display",children:[(0,g.jsx)(a.xv,{align:"end",color:"inverse",inline:!0,overflow:"normal",size:"300",weight:"bold",children:`${(0,u.Lc)(ea)}`})," ",(0,g.jsx)(a.xu,{display:"inlineBlock",opacity:.6,children:(0,g.jsx)(a.xv,{align:"end",color:"inverse",inline:!0,overflow:"normal",size:"300",weight:"bold",children:`/ ${(0,u.Lc)(en)}`})})]})]}),(0,g.jsxs)(a.kC,{direction:"row",gap:5,children:[(ee.startsWith("enabled_captions")||ee.startsWith("employees"))&&J&&(0,g.jsx)(y,{accessibilityLabel:H?es:eo,dataTestId:"story-pin-closeup-captions",handleTap:()=>{V.setCaptionsEnabled(!H)},icon:H?"captions":"captions-outline"}),(0,g.jsx)(y,{accessibilityLabel:S?O.bt("Suarakan", "Unmute", "closeup.IdeaPinVideo.unmute", undefined, true):O.bt("Senyapkan", "Mute", "closeup.IdeaPinVideo.mute", undefined, true),dataTestId:`story-pin-closeup-${S?"unmute":"mute"}`,disable:G,handleTap:x,icon:S?"mute":"sound"}),(0,g.jsx)(y,{accessibilityLabel:j?O.bt("Perbesar", "Maximize", "closeup.IdeaPinVideo.maximize", undefined, true):O.bt("Perkecil", "Minimize", "closeup.IdeaPinVideo.minimize", undefined, true),dataTestId:`story-pin-closeup-${j?"maximize":"minimize"}`,handleTap:t,icon:j?"maximize":"minimize"})]})]}),(0,g.jsx)(c.ZP,{activePageCurrentTime:X,activePageIndex:e,currentTime:ea,duration:en,handlePause:b,handlePlay:n,handleVideoScrubbingNewPage:v,isPlaying:w,pageCount:A,pageDurations:q,pinId:I,progressInfo:k,shouldShowPlayhead:!0,showEndCard:T,showVideoControls:E,videoControlsExp:et,videoDurations:q,viewParameter:z})]})}},654579:(e,t,n)=>{n.d(t,{$E:()=>y,$:()=>b,ZP:()=>P});var i=n(667294),a=n(883119),o=n(112690),s=n(898781),r=n(773285),l=n(780280),d=n(623568),c=n(179888),u=n(785893);function p({activePageCurrentTime:e,pillHeight:t,progressInfo:n,videoDuration:i}){let o=n?.currentTime??0,s=n?.duration??d.P6,r=`${i?.isVideo?Math.floor(1e4*(e||o)/(i.duration/c.gJ))/100:o/s*100}%`;return(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:y}},height:t,overflow:"hidden",rounding:"pill",children:(0,u.jsx)(a.xu,{color:b,dangerouslySetInlineStyle:{__style:{width:r}},height:"100%",rounding:"pill"})})}var h=n(224496),_=n(858416),m=n(50286),g=n(19121);let y="rgba(255,255,255,0.24)",b="light",f=()=>{},x=({children:e,setHoveringChange:t,handleMouseDown:n,handleMouseLeave:i,handleTouchStart:o,playhead:r,isPlaying:l,showVideoControls:d,videoControlsExp:c})=>{let p=(0,s.ZP)(),h=!(0,m.HG)();return c?(0,u.jsx)(a.iP,{children:(0,u.jsx)(a.xu,{ref:r,alignItems:"center","aria-label":p.bt("Bilah progres scrubber video", "Video scrubber progress bar", "ideaPin.closeupvideo.videoScrubberLabel", undefined, true),dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",touchAction:"none"}},"data-test-id":"bullet-video-progress-bar",display:"flex",flex:"grow",justifyContent:h?"center":"start",marginBottom:h?0:6,minHeight:"8px",onFocus:t(!0),onMouseDown:n,onMouseLeave:i,onMouseOver:t(!0),onTouchEnd:e=>e.preventDefault(),onTouchStart:o,opacity:c&&(d||!l)?1:0,paddingY:h?6:0,position:"relative",role:"progressbar",width:"100%",children:e})}):(0,u.jsx)(a.xu,{ref:r,alignItems:"center","aria-label":p.bt("Bilah progres scrubber video", "Video scrubber progress bar", "ideaPin.closeupvideo.videoScrubberLabel", undefined, true),dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",touchAction:"none"}},"data-test-id":"bullet-video-progress-bar",display:"flex",flex:"grow",justifyContent:h?"center":"start",marginBottom:h?0:6,minHeight:"8px",onFocus:t(!0),onMouseDown:n,onMouseLeave:i,onMouseOver:t(!0),onTouchEnd:e=>e.preventDefault(),onTouchStart:o,paddingY:h?6:0,position:"relative",role:"progressbar",width:"100%",children:e})},v=({currentTime:e=0,inRemoveRelatedStreamsExp:t,isMobile:n,isRTL:i,isSeeking:o,scrubberWidth:s,videoControlsExp:r})=>(0,u.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:i?{right:s}:{left:s}},"data-test-id":"video-progress-bar",position:"relative",children:[n&&o&&!t&&(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{top:"-32px"}},marginStart:-3,position:"absolute",children:(0,u.jsx)(a.xv,{color:"light",size:"100",children:(0,h.Lc)(e)})}),(0,u.jsx)(a.xu,{color:b,height:4,position:"absolute",rounding:"pill",children:(0,u.jsx)(a.xu,{color:"light",dangerouslySetInlineStyle:{__style:{marginTop:o&&r?-8:-6}},height:o&&r?16:12,marginStart:-2,rounding:"circle",width:o&&r?16:12})})]});function P({activePageIndex:e,activePageCurrentTime:t,pageCount:n,progressInfo:s,showEndCard:d,duration:c=0,currentTime:h=0,pageDurations:y=[],handlePlay:P=f,handlePause:w=f,handleVideoScrubbingNewPage:S=f,videoDurations:j=[],viewParameter:C,isInactiveStreamPin:A=!1,isPlaying:I=!1,setVideoProgress:k,shouldShowPlayhead:T=!1,showVideoControls:E=!0,pinId:z="",videoControlsExp:R=!1}){let M=!(0,m.HG)(),L=(0,i.useRef)(null),{checkExperiment:O}=(0,r.F)(),{isRTL:F}=(0,l.B)(),[N,Z]=(0,i.useState)(!1),[V,B]=(0,i.useState)(I),[$,D]=(0,i.useState)(),H=(0,o.Z)(),{isSeekingIdeaPin:U}=(0,_.Hx)(),{updateSeekTime:G,updateSeekingIdeaPin:X}=(0,_.RC)(),K=(0,g.Z)(),W=K.isAuth,q=(0,i.useCallback)((t,i)=>{if(!A&&i<=n){if(i!==e&&S(i),k){let{isVideo:e}=j[i];k({currentTime:t/1e3,duration:e?s?.duration??1:5,pinId:z})}G(t/1e3,z)}H({event_type:101,view_type:3,view_parameter:C,component:14302})},[e,S,A,H,n,z,s?.duration,k,G,j,C]),Y=`${h/c*100}%`,J=y.map(e=>`${(e.duration||0)/c/10}%`),Q=(0,i.useMemo)(()=>{let e=0;return y.map(({duration:t})=>{let n=t+e,i={min:e,max:n};return e=n,i})},[y]),ee=M&&O(W?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,et=N?"0 1.2px":"0 1px",en=e=>()=>Z(e),ei=(0,i.useCallback)(e=>{if(L.current){let{left:t=0,right:n=0,width:i=0}=L.current.getBoundingClientRect(),a=F?Math.max(0,Math.min((n-e)/i,1)):Math.max(0,Math.min((e-t)/i,1)),o=a*c*1e3,s=Q.findIndex(e=>o>=e.min&&o<=e.max),r=-1===s?0:s;q(o-Q[r].min,r)}},[c,q,Q,F]),ea=()=>{U||(B(I||d),X(!0))},eo=(0,i.useCallback)(e=>{U&&ei(e.pageX)},[ei,U]),es=(0,i.useCallback)(e=>{if(U){e.preventDefault();let t=Array.from(e.changedTouches).find(e=>e.identifier===$);t&&ei(t.pageX)}},[U,ei,$]),er=(0,i.useCallback)(()=>{X(!1),en(!1),D(void 0),V&&P()},[X,P,V]),el=(0,i.useCallback)(e=>{let t=Array.from(e.changedTouches).find(e=>e.identifier===$);t&&(X(!1),en(!1),D(void 0)),V&&P()},[P,V,$,X]);(0,i.useEffect)(()=>(U&&!A&&(window.addEventListener("mousemove",eo),window.addEventListener("mouseup",er),window.addEventListener("touchmove",es),window.addEventListener("touchend",el)),()=>{window.removeEventListener("mousemove",eo),window.removeEventListener("mouseup",er),window.removeEventListener("touchmove",es),window.removeEventListener("touchend",el)}),[eo,er,el,es,A,U,ei,$]);let ed=n=>n<e||d?(0,u.jsx)(a.xu,{color:b,height:4,rounding:"pill"}):e===n&&s?(0,u.jsx)(p,{activePageCurrentTime:t,pillHeight:4,progressInfo:s,videoDuration:j[n]}):(0,u.jsx)(a.xu,{color:b,dangerouslySetInlineStyle:{__style:{opacity:.24}},height:4,rounding:"pill"});return(0,u.jsxs)(x,{handleMouseDown:e=>{ea(),I&&w(),ei(e.pageX)},handleMouseLeave:()=>{en(!1)},handleTouchStart:e=>{ea(),en(!0);let t=e.changedTouches[0];D(t.identifier),I&&w(),ei(t.pageX)},isPlaying:I,playhead:L,setHoveringChange:en,showVideoControls:E,videoControlsExp:R,children:[T&&(E&&R||N||U||M)&&(0,u.jsx)(v,{currentTime:t,inRemoveRelatedStreamsExp:ee,isMobile:M,isRTL:F,isSeeking:U,scrubberWidth:Y,videoControlsExp:R}),Array(n).fill().map((e,t)=>(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{margin:et}},flex:"grow",width:J.length===n?J[t]:"auto",children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"all .1s"}},"data-test-id":"idea-pin-video-progress-bar",rounding:"pill",children:ed(t)})},`${z}-${t}`))]})}},775151:(e,t,n)=>{n.d(t,{BN:()=>c,RK:()=>d,d3:()=>p,tq:()=>h,xm:()=>u});var i=n(667294),a=n(441253),o=n(224496),s=n(700314),r=n(829407);let l=(e,t)=>{let n=(0,o.pE)(e,t);return`${n.y}px ${n.x}px`},d=({alignment:e,verticalAlignment:t})=>{let n={alignItems:"flex-start",display:"flex",height:"100%",justifyContent:"start",textAlign:"left",width:"100%"};return 1===t?n.alignItems="center":2===t&&(n.alignItems="flex-end"),1===e&&(n.justifyContent="center",n.textAlign="center"),n},c=({fontSize:e,hexColor:t,highlightColor:n,letterSpacing:i,lineHeight:a,name:o})=>({fontSize:e,letterSpacing:i,color:t,fontFamily:o,margin:0,maxHeight:"100%",textShadow:!n&&t&&"#ffffff"===t.toLowerCase()?"0px 1px 4px rgba(0, 0, 0, 0.2)":void 0,wordBreak:"break-word",...n?{backgroundColor:n,borderRadius:e/5,padding:l(e,a)}:{}}),u=({fontSize:e,hasText:t,highlightColor:n,lineHeight:i})=>({...n?{backgroundColor:t?n:void 0,borderRadius:e/5,padding:l(e,i)}:{}}),p=({letterSpacing:e,lineHeight:t,name:n,url:i})=>({fontFamily:n,fontGroup:"",fontOverrides:{letterSpacing:e,lineHeight:t,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:i}]}),h=({hasPin:e,pages:t,limitToSingleFont:n})=>{let[l,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(()=>!!e&&(0,s.X7)(t)),h=()=>{let e=t.reduce((e,t)=>{let i=t?.blocks?.filter(e=>[o.h8.PARAGRAPH,o.h8.HEADING].includes(e.type))||[];return n&&i.length>1&&(i=[i[0]]),i.forEach(t=>{let n=t.style?.font||o.Cc.font,{name:i=""}=n;e[i]||(e[i]=n)}),e},{});if(Object.keys(e).length>0){let t=Object.keys(e).map(t=>{let n=e[t];return p({letterSpacing:n.letter_spacing,lineHeight:n.line_height,name:n.name,url:n.url})});(0,a.Z)(t),d(!0)}};return(0,r.Z)(()=>{h()}),(0,r.Z)(()=>{c||h()}),(0,i.useEffect)(()=>{c||u((0,s.X7)(t))},[c,t]),{fontsLoaded:l,mediaDataReceived:c}}},148028:(e,t,n)=>{n.d(t,{Z:()=>i});function i({currentTime:e,endTime:t,startTime:n}){return"number"!=typeof n||"number"!=typeof t||!(n>=0)||!(t>0)||!(n<t)||n<=e&&e<=t}},700314:(e,t,n)=>{n.d(t,{B7:()=>s,X7:()=>r,n4:()=>o});var i=n(224496);function a(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o=(e,t)=>{let n=/^\d{1,3}\.\d{1,3}(?:\.\d{1,6})?$/;if(!e?.match(n)||!t?.match(n))return null;let i=e?.split("."),a=t?.split("."),o=Math.max((i??"").length,(a??"").length);for(let e=0;e<o;e+=1){let t=e<(i?.length??0)?parseInt(i?.[e],10):0,n=e<(a?.length??0)?parseInt(a?.[e],10):0;if(t<n)return -1;if(t>n)return 1}return 0};class s{constructor(e,t,n){if(a(this,"start",Date.now()),a(this,"paused",!1),this.onProgress=e,this.onComplete=t,this.duration=n,this.remaining=n,"undefined"==typeof window)return;this.intervalId=window.setInterval(()=>{let e=this.paused?this.duration-this.remaining:this.duration-this.remaining+(Date.now()-this.start);this.onProgress(e/this.duration)},500),this.resume()}currentTime(){return this.duration-this.remaining}pause(){this.paused=!0,window.clearTimeout(this.timerId),this.remaining-=Date.now()-this.start;let e=this.duration-this.remaining;this.onProgress(e/this.duration)}resume(){this.paused=!1,this.start=Date.now(),window.clearTimeout(this.timerId),this.timerId=window.setTimeout(this.onComplete,this.remaining)}clear(){window.clearTimeout(this.timerId),window.clearInterval(this.intervalId)}}let r=e=>e.some(e=>(e?.blocks??[]).some(e=>e.type===i.h8.IMAGE&&!!e.image||e.type===i.h8.VIDEO&&(!!e.video||!!e.video_signature)))},334005:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(883119),o=n(946984),s=n(121151),r=n(604356),l=n(785893);let d=new a.Ry(1);function c({anchor:e,children:t,displayOptions:n,onFlyoutDismiss:i}){return n?.shownWithinMasonry||n?.shownWithinProfileHeader?(0,l.jsx)(a.mh,{zIndex:n.shownWithinProfileHeader?d:void 0,children:(0,l.jsx)(a.xu,{position:n.inModal?"absolute":void 0,top:!!n.inModal||void 0,zIndex:n.inModal?s.b7:void 0,children:(0,l.jsx)(a.J2,{_deprecatedShowCaret:n.showCaret,anchor:e,idealDirection:n.idealDirection??"down",onDismiss:()=>{i()},positionRelativeToAnchor:!1,size:"flexible",children:t})})}):(0,l.jsx)(a.J2,{_deprecatedShowCaret:n?.showCaret,anchor:e,idealDirection:n?.idealDirection??"down",onDismiss:()=>{i()},size:"flexible",children:t})}function u({children:e,flyoutDisplayOptions:t,isFlyoutOpen:n,loggingOptions:s,onClick:d,onFlyoutDismiss:u,onToggleFlyout:p,sendObject:h}){let _=(0,i.useRef)(null),m=(0,o.Z)();return(0,l.jsxs)(a.xu,{ref:_,dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,l.jsx)(a.xu,{children:e({handleSendShareFlyoutButtonClick:()=>{if(m){m();return}p()}})}),n&&(0,l.jsx)(c,{anchor:_.current,displayOptions:t,onFlyoutDismiss:u,children:(0,l.jsx)(r.Z,{component:s.component,element:s.element,onExternalSend:s.onExternalSend,onHide:()=>{d?.(),u()},sendType:h.type,sharedObject:{...h,type:"user"===h.type?"pinner":h.type},viewParameter:s.viewParameter,viewType:s.viewType})})]})}},387957:(e,t,n)=>{let i;n.d(t,{GL:()=>s,_z:()=>a,d0:()=>l,hO:()=>r,pM:()=>o});let a="video",o="image",s=new Map([["DEFAULT",new Set(["button"])],["story_pin",new Set([a])],["product_detail_page",new Set(["description","shopButton","thumbnailsLoaded"])],["product_detail_page_plus",new Set(["description","shopButton","thumbnailsLoaded"])]]),r=(i=new Set,s.forEach(e=>{i=new Set([...i,...e])}),i),l=new Set([...r,o,"resource"])},252417:(e,t,n)=>{n.d(t,{Ai:()=>w,B5:()=>_,CR:()=>c,Cc:()=>s,HG:()=>f,R_:()=>l,Wz:()=>r,_P:()=>b,dP:()=>S,dX:()=>v,gx:()=>u,h8:()=>a,hk:()=>d,lp:()=>g,lt:()=>h,oe:()=>x,r4:()=>y,rM:()=>P,tD:()=>p});var i=n(883119);let a={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},o={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},s={...o,font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28},r={...o,font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48},l=64,d=64,c=48,u=48,p=new i.Ry(1),h=new i.H3([p]),_=new i.H3([h]),m=new i.H3([p]),g=new i.H3([m]),y=4;function b(e){return e?{paddingX:0,paddingY:0}:{paddingX:2,paddingY:y}}let f=6,x=47,v=8,P=4,w=5,S=3},829084:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(66743);function a(e){return{defaultStyle:0,fontFamily:e.name??"",fontGroup:i.gu,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/86352.id_ID-144041efe89a1c74.mjs.map