"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[42163],{90838:e=>{var t,l,o=(l=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},t],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},t,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null});o.hash="6e4bec581cece19361386d6124ddde90",e.exports=o},964569:(e,t,l)=>{l.d(t,{Z:()=>u});var o=l(702664),i=l(214494),s=l(139405),n=l(664569),a=l(600147),r=l(956800),c=l(274415),d=l(492583);let _={[n.o.aggregatedComment]:"AggregatedCommentReplyResource",[n.o.pin]:"AggregatedCommentResource",[n.o.didIt]:"DidItCommentsResource"};function u(){let e=(0,o.useDispatch)(),{aggregatedCommentCreated:t,updateCommentCount:l}=(0,s.nf)();return async({force:o=!0,fromUnifiedComment:s,objectId:n,objectType:u,orbacSubjectId:m,pinId:h,replyToCommentId:g,tags:p,text:f})=>{let y=_[u],x={force:o,objectId:n,pinId:h,tags:p,text:f,replyToCommentId:g,...m?{orbacSubjectId:m}:{}},A=d.Z.AGGREGATED_COMMENTS;s&&(A="pin"===u?d.Z.UNIFIED_COMMENTS:d.Z.AGGREGATED_COMMENT_REPLIES);let b=await i.Z.create(y,x).callCreate({showError:!1}),E=b.resource_response.data;return t(n,E),e((0,r.vX)({feedType:A,feedId:n,itemIds:[E.id],itemType:E.type,prepend:!0})),"aggregatedComment"===u?l(n,1):"pin"!==u&&e((0,a.L8)(n,1)),h&&e((0,c.R)(h,1)),E.id||b}}},28754:(e,t,l)=>{l.d(t,{Z:()=>_});var o=l(702664),i=l(214494),s=l(541776),n=l(139405),a=l(600147),r=l(956800),c=l(274415),d=l(492583);function _(){let e=(0,o.useDispatch)(),{aggregatedCommentDeleted:t,updateCommentCount:l}=(0,n.nf)();return async({aggregatedCommentId:o,aggregatedPinId:n,feedType:_,orbacSubjectId:u,parentId:m,type:h,updateParentCommentCount:g,pinId:p})=>{await i.Z.create("AggregatedCommentResource",{commentId:o,...u?{orbacSubjectId:u}:{}}).callDelete({showError:!1}),m&&(e((0,r.EX)({feedId:n||m,feedType:_||d.Z.AGGREGATED_COMMENTS,itemIds:[o],itemType:"aggregatedcomment"})),t(m,o),g&&(h||0===h)&&(h===s.Rv.TOP&&p?e((0,c.R)(p,-1)):h===s.Rv.REPLY_TO_AGGREGATED?l(m,-1):e((0,a.L8)(m,-1))))}}},509278:(e,t,l)=>{l.d(t,{Z:()=>n});var o=l(883119),i=l(785893);let s=/#[\p{L}\p{N}_]\S*/gu;function n({isHashtagInDescriptionDisplayEnabled:e,text:t}){return t.split(new RegExp(/(#\S*)/)).map((t,l)=>{let n=`${l}-${t}`;return(e?t.match(s):t.includes("#"))?(0,i.jsx)(o.xv,{color:"link",inline:!0,size:"300",children:(0,i.jsx)(o.rU,{display:"inline",href:`/search/pins/?q=${encodeURIComponent(t.replace("#",""))}`,underline:"none",children:t})},n):(0,i.jsx)("span",{children:t},n)})}},748373:(e,t,l)=>{l.d(t,{Z:()=>m});var o=l(667294),i=l(883119),s=l(509278),n=l(407043),a=l(773285),r=l(785893);let c=e=>e.replace(/\s+/g," "),d=e=>null!=e&&e>-1,_=(e,t)=>{let l=t.substr(0,e);return(e??0)-(l.length-c(l).length)},u=({color:e,mention:t,tagObjectId:l,tagType:o,textSize:s})=>{let{logContextEvent:a}=(0,n.v)();return(0,r.jsx)(i.rU,{display:"inlineBlock",href:`/${t.substr(1)}`,onClick:({event:e})=>{e.stopPropagation(),a({event_type:101,element:11915,aux_data:{tag_id:l,tag_type:o}})},underline:"none",children:(0,r.jsx)(i.xv,{color:e,inline:!0,overflow:"normal",size:s,weight:"bold",children:t})},l)},m=({description:e,mentionLinkColor:t,shouldAdjustOffset:l,shouldMakeHashtagLinksFromText:n,textSize:c,userMentionTags:m})=>{let{checkExperiment:h}=(0,a.F)(),g=h("web_hashtags_in_description_display").anyEnabled;if(0===m.length)return(0,r.jsx)(o.Fragment,{children:e});let p=0,f=[],y=[...m].map(t=>l?{...t,offset:_(t.offset??0,e)}:t).sort((e,t)=>(e.offset??0)-(t.offset??0)).filter(e=>d(e.offset)&&d(e.length));return y.forEach(l=>{let o=l.offset??0,i=l.length??0,s=e.substr(p,o-p),n=e.substr(o,i);f.push(s),f.push((0,r.jsx)(u,{color:t,mention:n,tagObjectId:l.objectId,tagType:l.tagType,textSize:c})),p=o+i}),f.push(e.substr(p)),(n?f.flatMap(e=>"string"!=typeof e?e:(0,s.Z)({isHashtagInDescriptionDisplayEnabled:g,text:e})):f).reduce((e,t)=>(0,r.jsxs)(i.xv,{inline:!0,size:c,children:[e,t]}),null)}},129274:(e,t,l)=>{l.d(t,{N:()=>c,d:()=>r});var o=l(667294),i=l(174798),s=l(425288),n=l(785893);let{Provider:a,useHook:r}=(0,s.Z)("Flag"),c=({children:e})=>{let[t,l]=(0,o.useState)(),[s,r]=(0,o.useState)(i.Zw.REPORT),[c,d]=(0,o.useState)(i.qb.STARTED),[_,u]=(0,o.useState)(),[m,h]=(0,o.useState)(),g=(0,o.useMemo)(()=>({flagReason:m,flow:s,status:c,selectedReason:_,modalTitle:t,setFlagReason:h,setFlow:r,setModalTitle:l,setStatus:d,setSelectedReason:u}),[t,s,c,_,m]);return(0,n.jsx)(a,{value:g,children:e})}},923764:(e,t,l)=>{l.d(t,{Z:()=>D});var o=l(667294),i=l(702664),s=l(883119),n=l(214494);async function a({userId:e,blockSource:t,blockContext:l,logContextEvent:o}){let i=n.Z.create("UserBlockResource",{blocked_user_id:e,block_source:t,block_context:l});await i.callCreate(),o({event_type:54,object_id_str:e})}var r=l(129274),c=l(174798),d=l(512465),_=l(898781),u=l(349700),m=l(966113),h=l(785893);let g=m.K_Y+"?source=block_dialogue";function p(e){return e.map(({full_name:e})=>e)}let f=function({users:e,onClose:t,onSubmit:l}){let o=(0,_.ZP)(),i=(0,h.jsx)("strong",{children:(0,d.Z)(p(e),o)},"userlist");return(0,h.jsxs)("form",{method:"post",children:[(0,h.jsxs)(s.xu,{padding:8,children:[(0,h.jsx)(s.xv,{children:(0,u.nk)(o.bt("Jika Anda memblokir {{ users }}, Anda tidak akan dapat saling mengikuti atau berinteraksi dengan pin orang tersebut.", "If you block {{ users }}, you won’t be able to follow each other or interact with each other’s Pins.", "description of blocking users", undefined, true),{users:i})}),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsx)(s.xv,{children:(0,h.jsx)(s.rU,{display:"inlineBlock",href:g,underline:"hover",children:o.bt("Pelajari selengkapnya", "Learn more", "link to learn more about blocking", undefined, true)})})]}),(0,h.jsx)(s.xu,{padding:2,children:(0,h.jsxs)(s.kC,{alignItems:"stretch",gap:{row:1,column:0},justifyContent:"end",children:[(0,h.jsx)(s.zx,{fullWidth:!0,onClick:t,text:o.bt("Batal", "Cancel", "UserBlock.Cancel", undefined, true)}),(0,h.jsx)(s.zx,{color:"red",fullWidth:!0,onClick:()=>{l()},text:o.bt("Blokir", "Block", "UserBlock.Submit", undefined, true),type:"submit"})]})})]})};var y=l(112690),x=l(19121);let A=({deleteAndCloseConversation:e,flagReason:t,flagType:l,onClose:i,selectedReason:n,status:g,users:A,blockContext:b})=>{let E=(0,_.ZP)(),P=(0,y.Z)(),[T,v]=(0,o.useState)({}),{setModalTitle:I,setStatus:C}=(0,r.d)(),k=(0,x.Z)(),{id:w}=k.isAuth?k:{},j=A.filter(({id:e})=>T[e]),z=j.length>0,D=()=>{let e;[c.qb.SUBMITTED,c.qb.PROCESSING].includes(g)?e=E.nbt(["Blokir orang ini?"], j.length, "BlockAndUnfollow", true):l===c.Vm.CONVERSATION&&(e=g===c.qb.COMPLETED?(0,u.nk)(E.bt("Anda telah memblokir {{usernames}}", "You’ve blocked {{usernames}}", "BlockAndUnfollow", undefined, true),{usernames:(0,d.Z)(p(j),E).join("")}).join(""):E.bt("Terima kasih atas laporan Anda", "Thanks for your report", "BlockAndUnfollow", undefined, true)),I(e)};(0,o.useEffect)(()=>{D()},[g]),(0,o.useEffect)(()=>{C(z?c.qb.SELECTED:c.qb.STARTED)},[T]);let R=A.filter(({id:e})=>e!==w),L=[c.qb.STARTED,c.qb.COMPLETED].includes(g);return(0,h.jsx)("form",{method:"post",children:[c.qb.SUBMITTED,c.qb.PROCESSING].includes(g)?(0,h.jsx)(f,{onClose:()=>{C(c.qb.SELECTED)},onSubmit:()=>(C(c.qb.PROCESSING),Promise.all(Object.keys(T).filter(e=>T[e]).map(e=>a({userId:e,blockSource:"message_report",blockContext:b,logContextEvent:P}))).finally(()=>{C(c.qb.COMPLETED)})),users:j}):(0,h.jsxs)(s.xu,{padding:8,children:[(0,h.jsx)(s.xu,{children:g!==c.qb.COMPLETED?(()=>{let e;"harassingOther"===n?e=(0,u.nk)(E.bt("Kami menghapus konten yang mengenali dan menyerang orang pribadi karena kami menganggapnya sebagai perundungan. Kami juga tidak mengizinkan konten yang mengungkapkan informasi pengidentifikasi pribadi seseorang. Pelajari selengkapnya tentang {{ communityGuidelines }} kami.", "We remove content that identifies and attacks private people because we consider it to be bullying. We also don’t allow content that reveal someone’s personally identifiable information. Learn more about our {{ communityGuidelines }}.", "confirmation message after reporting harassment", undefined, true),{communityGuidelines:(0,h.jsx)(s.rU,{display:"inlineBlock",href:m.MsG,underline:"hover",children:E.bt("Pedoman Komunitas", "Community Guidelines", "link to community guidelines for harassment", undefined, true)},"policyLink")}):"harassingPublicFigure"===n?e=E.bt("Perhatikan bahwa kami tidak akan langsung menurunkan pin yang menyerang tokoh masyarakat.", "Please note that we won’t necessarily take down stuff that attacks public figures.", "message shown after reporting harrassment", undefined, true):"harassingFriend"===n?e=E.bt("Sebelum kami bisa meninjau pin ini, kami perlu mendengar dari orang yang dilecehkan. Minta teman Anda melaporkan pin ini kepada kami.", "Before we can review this Pin, we need to hear from the person who’s being harassed. Please have your friend report this Pin to us.", "message shown after reporting harrassment", undefined, true):["spam","policies","hurtfulContent"].includes(t)&&(e=E.bt("Kami akan memantau Pin ini dan menghapusnya jika memang melanggar kebijakan kami.", "We’ll take a look at this Pin and delete it if it goes against our policies.", "confirmation message after reporting a pin", undefined, true));let l=E.nbt(["Anda bisa juga memblokir orang-orang ini."], R.length, "description to block people", true);return(0,h.jsxs)(o.Fragment,{children:[e&&(0,h.jsx)(s.xu,{marginBottom:8,children:(0,h.jsx)(s.xv,{children:e})}),(0,h.jsx)(s.xu,{marginBottom:8,children:(0,h.jsx)(s.xv,{children:l})}),(0,h.jsx)(s.xu,{marginBottom:8,children:R.map(({id:e,full_name:t})=>(0,h.jsx)(s.XZ,{checked:!!T[e],helperText:E.bt("Anda tidak akan dapat saling mengirimkan pesan atau saling berinteraksi di pin.", "You won’t be able to send each other messages or interact with each other’s Pins.", "BlockAndUnfollow", undefined, true),id:"blockPinner"+e,label:(0,u.nk)(E.bt("Blokir {{ pinnerName }}", "Block {{ pinnerName }}", "BlockAndUnfollow", undefined, true),{pinnerName:t}).join(""),onChange:({checked:t})=>{v({...T,[e]:t})}},e))})]})})():z&&(0,h.jsx)(s.xu,{marginBottom:8,children:(0,h.jsx)(s.xv,{children:E.bt("Anda tidak akan dapat saling mengikuti atau berinteraksi dengan pin masing-masing.", "You won’t be able to follow each other or interact with each other’s pins.", "BlockAndUnfollow", undefined, true)},"blockingConfirmation")})}),(0,h.jsxs)(s.xu,{children:[g!==c.qb.COMPLETED&&(0,h.jsx)(s.xu,{marginBottom:8,children:(0,h.jsx)(s.xv,{size:"100",children:(0,u.nk)(E.bt("Pelajari selengkapnya tentang {{ linkToTopic }}", "Learn more about {{ linkToTopic }}", "BlockAndUnfollow", undefined, true),{linkToTopic:(0,h.jsx)(s.rU,{display:"inlineBlock",href:m.K_Y,underline:"hover",children:E.bt("memblokir", "blocking", "BlockAndUnfollow", undefined, true)},"policyLink")})})}),(0,h.jsx)(s.xu,{children:(0,h.jsx)(s.zx,{color:"red",fullWidth:!0,onClick:L?()=>{i(),g===c.qb.COMPLETED&&e?.()}:()=>{v(T),C(c.qb.SUBMITTED)},text:L?E.bt("Selesai", "Done", "Block.Complete", undefined, true):E.bt("Blokir", "Block", "BlockAndUnfollow", undefined, true)})})]})]})})};function b({flagOptions:e,flow:t,handleClose:l,handleNext:o,selectedReason:i,showPrimaryAction:n,submitButton:a}){let r=(0,_.ZP)();if(t===c.Zw.REPORT){if(c.qb.PROCESSING===status||e.getFlagOption(i)?.isTerminalReason)return a;if(n)return(0,h.jsx)(s.zx,{color:"red",disabled:void 0===i,fullWidth:!0,onClick:o,text:r.bt("Berikutnya", "Next", "go to the next view in the report flow", undefined, true)})}else if(t===c.Zw.END)return(0,h.jsx)(s.zx,{color:"red",fullWidth:!0,onClick:l,text:r.bt("Oke", "Got it", "confirm reporting flow is done & close modal", undefined, true)});return null}function E({flow:e,flagReason:t}){let l=(0,_.ZP)();if(e===c.Zw.REPORT){if("attacks"===t)return(0,h.jsx)(s.xv,{size:"100",children:(0,u.nk)(l.bt("Pelajari selengkapnya tentang {{ linkToTopic }} kami", "Learn more about our {{ linkToTopic }}", "footer link to learn more about community guidelines", undefined, true),{linkToTopic:(0,h.jsx)(s.rU,{href:m.MsG,target:"blank",children:(0,h.jsx)(s.xv,{color:"error",inline:!0,size:"100",weight:"bold",children:l.bt("Pedoman Komunitas", "Community Guidelines", "name of footer link to community guidelines", undefined, true)})},"policyLink")})});if("policies"===t)return(0,h.jsxs)("p",{children:[(0,h.jsx)(s.xv,{size:"100",children:(0,u.nk)(l.bt("Ketahui tentang {{ linkToTopic }}", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,h.jsx)(s.rU,{href:m.MsG+"#sub-section-adult-content",target:"blank",children:(0,h.jsx)(s.xv,{color:"error",inline:!0,size:"100",children:l.bt("kebijakan tentang ketelanjangan kami", "our nudity policies", "name of footer link to policy", undefined, true)})},"policyLink")})}),(0,h.jsx)(s.xv,{size:"100",children:(0,u.nk)(l.bt("Ketahui tentang {{ linkToTopic }}", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,h.jsx)(s.rU,{href:m.MsG+"#sub-section-dangerous-goods-and-activities",target:"blank",children:(0,h.jsx)(s.xv,{color:"error",inline:!0,size:"100",children:l.bt("kebijakan kami tentang konten mencederai", "our policies on hurtful content", "name of footer link to policy", undefined, true)})},"policyLink")})}),(0,h.jsx)(s.xv,{size:"100",children:(0,u.nk)(l.bt("Ketahui tentang {{ linkToTopic }}", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,h.jsx)(s.rU,{href:m.MsG+"#sub-section-violence",target:"blank",children:(0,h.jsx)(s.xv,{color:"error",inline:!0,size:"100",children:l.bt("kebijakan kami tentang kekerasan berdarah", "our policies on gore", "name of footer link to policy", undefined, true)})},"policyLink")})})]});if("spam"===t||void 0===t)return(0,h.jsx)(s.xv,{size:"100",children:(0,u.nk)(l.bt("Ketahui tentang {{ linkToTopic }}", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,h.jsx)(s.rU,{href:m.MsG,target:"blank",children:(0,h.jsx)(s.xv,{color:"error",inline:!0,size:"100",weight:"bold",children:"spam"===t?l.bt("kebijakan spam kami", "our spam policies", "name of footer link to policy", undefined, true):l.bt("kebijakan kami", "our policies", "name of footer link to policy", undefined, true)})},"policyLink")})})}return null}function P({arrayOfData:e,handleSelectReason:t,selectedReason:l}){let o=(0,_.ZP)();return(0,h.jsx)(s.xu,{padding:2,children:(0,h.jsx)(s.FX,{id:"flag-option-radio-group",legend:o.bt("Legenda tanda", "Flag legends", "flag_legend", undefined, true),legendDisplay:"hidden",children:e.map((e,o)=>{let{condition:i}=e;return void 0===i||i?function(e,t,l,o){let{text:i,value:n,category:a}=e;return(0,h.jsx)(s.xu,{paddingY:2,children:(0,h.jsx)(s.FX.RadioButton,{checked:l===n,id:n,label:i,name:"flagReason",onChange:({checked:e})=>t(e,n,a),value:n})},o)}(e,t,l,o):null})})})}class T{constructor(e){this.config=e,this.configMap=function(e){let t={};for(let l in e){let o=e[l];o.forEach(e=>{let{value:o}=e;if(Object.prototype.hasOwnProperty.call(t,o))throw Error("Duplicate key in FlagOptions config: "+o);t[o]={...e,parentOption:l}})}return t}(e)}getFlagOption(e){return e?this.configMap[e]:null}renderFlagLabels(e){let{flagReason:t,onSelectReason:l,selectedReason:o}=e;return(0,h.jsx)(P,{arrayOfData:this.config[t],handleSelectReason:l,selectedReason:o})}}var v=l(121151);function I(e,t,l){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var o=l.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:String(o))in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}class C extends o.Component{constructor(...e){super(...e),I(this,"flagOptions",new T(this.props.flagOptionsConfig)),I(this,"renderContent",()=>{let{content:e,flow:t,onSelectReason:l,selectedReason:o}=this.props;return e||(t===c.Zw.REPORT?this.flagOptions.renderFlagLabels({flagReason:this.props.flagReason||"__default",onSelectReason:l,selectedReason:o}):t===c.Zw.END?(0,h.jsx)(s.xv,{children:this.props.i18n.bt("Kami akan menggunakan umpan balik Anda untuk membuat pengalaman Pinterest Anda lebih baik lagi.", "We’ll use your feedback to make your Pinterest experience better.", "final message in reporting flow", undefined, true)}):void 0)})}componentDidUpdate(e){let{flow:t,onCompletedReport:l,onCompletedBlock:o}=e;if(this.props.flow!==t)switch(t){case c.Zw.REPORT:l&&l();break;case c.Zw.BLOCK:o&&o()}}render(){let{accessibilityModalLabel:e,deleteAndCloseConversation:t,flagType:l,flow:o,status:i,modalTitle:n,onClose:a,selectedReason:r,submitButton:d,flagReason:_,showPrimaryAction:u,users:m,blockContext:g}=this.props;return(0,h.jsx)(v.ZP,{accessibilityModalLabel:e,footer:o!==c.Zw.BLOCK?(0,h.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,h.jsx)(s.xu,{flex:"grow",children:(0,h.jsx)(E,{flagReason:_,flow:o})}),(0,h.jsx)(s.xu,{padding:1,children:o===c.Zw.REPORT?(0,h.jsx)(s.zx,{fullWidth:!0,onClick:void 0===_?this.props.onClose:()=>{this.props.onRevert?.()},text:void 0===_?this.props.i18n.bt("Batal", "Cancel", "cancel form", undefined, true):this.props.i18n.bt("Kembali", "Back", "previous step in a form", undefined, true)}):null}),(0,h.jsx)(s.xu,{padding:1,children:(0,h.jsx)(b,{flagOptions:this.flagOptions,flow:o,handleClose:this.props.onClose,handleNext:()=>{this.props.onNext?.()},selectedReason:r,showPrimaryAction:!!u,submitButton:d})})]}):void 0,heading:n,onDismiss:a,size:"md",children:(0,h.jsx)(s.xu,{children:o===c.Zw.BLOCK?(0,h.jsx)(A,{blockContext:g,deleteAndCloseConversation:t,flagReason:_,flagType:l,onClose:a,selectedReason:r,status:i,users:m}):this.renderContent()})})}}function k(e){let t=(0,_.ZP)();return(0,h.jsx)(C,{...e,i18n:t})}var w=l(794230),j=l(600147);let z="policies";function D({aggregatedPinDataId:e,didItDataId:t,onClose:l,pinId:n,username:a,users:d}){let u=(0,_.ZP)(),[g,p]=(0,o.useState)([]),[f,y]=(0,o.useState)(),[x,A]=(0,o.useState)(),b=(0,i.useDispatch)(),E=(e,t,l,o,i)=>b((0,j.Th)(e,t,l,o,i)),{flow:P,modalTitle:T,selectedReason:v,setFlow:I,setModalTitle:C,setSelectedReason:D,setStatus:R,status:L}=(0,r.d)(),S=()=>{if(P===c.Zw.REPORT)switch(x){case"attacks":return u.bt("Apa yang terjadi?", "What's going on?", "title for report content flow", undefined, true);case z:return u.bt("Apa yang salah dengan Percobaan ini?", "What's wrong with this Try?", "title for report content flow", undefined, true);case"IP":return u.bt("Hak atas Kekayaan Intelektual", "Intellectual Property", "title for report content flow for IP complaints", undefined, true);default:return u.bt("Apa yang salah dengan Percobaan ini?", "What's wrong with this Try?", "title for the report content flow", undefined, true)}else if(P===c.Zw.END&&g.includes("notUseful"))return u.bt("Terima kasih telah memberi tahu kami!", "Thanks for letting us know!", "title at end of report flow when content is not useful", undefined, true);return""};(0,o.useEffect)(()=>{C(S())},[g,P,x]);let O=(0,h.jsx)(s.zx,{color:"red",fullWidth:!0,onClick:()=>{if(R(c.qb.PROCESSING),"ignoreThisPin"===v)I(c.Zw.BLOCK),R(c.qb.STARTED);else{let l=[...g,v];p(l),E(e,l,t,f,a),g.includes("notUseful")?I(c.Zw.END):I(c.Zw.BLOCK),R(c.qb.STARTED)}},text:u.bt("Laporkan Konten", "Report content", "button to report content", undefined, true)});return(0,h.jsx)(k,{accessibilityModalLabel:u.bt("Laporkan Percakapan", "Report conversation", "Pin.DidIt.Report", undefined, true),blockContext:e??"",content:"IP"===x?(0,h.jsx)(s.xu,{justifyContent:"center",mdDisplay:"flex",children:(0,h.jsxs)(s.xu,{mdColumn:9,children:[(0,h.jsx)(s.xu,{marginStart:2,padding:2,children:(0,h.jsx)(s.xv,{align:"center",color:"default",weight:"bold",children:u.bt("Jika menemukan konten yang menurut Anda melanggar hak kekayaan intelektual Anda, silakan isi formulir keluhan hak cipta.", "If you’ve found content that you believe violates your intellectual property, you can fill out our copyright complaint form.", "explanation of IP complaint process", undefined, true)})}),(0,h.jsx)(s.xu,{padding:2,children:(0,h.jsx)(s.ZP,{color:"red",href:(0,w.Z)(m.GEi,{pin_id:n,user_did_it_id:t}),target:"blank",text:u.bt("Ajukan laporan", "File a report", "link to DMCA form", undefined, true)})})]})}):null,flagOptionsConfig:{__default:[{text:u.bt("Tidak berguna atau relevan", "It isn't useful or relevant", "tried-it reporting flow", undefined, true),value:"ignoreThisPin",isTerminalReason:!0,category:"ignoreThisPin"},{text:u.bt("Tidak seharusnya ada di Pinterest", "It shouldn't be on Pinterest", "tried-it reporting flow", undefined, true),value:z,isTerminalReason:!1},{text:u.bt("Merupakan spam", "It's spam", "tried-it reporting flow", undefined, true),value:"spam",isTerminalReason:!0,category:"spam"},{text:u.bt("Ini hak kekayaan intelektual saya", "It's my intellectual property", "tried-it reporting flow", undefined, true),isTerminalReason:!1,value:"IP"}],ignoreThisPin:[],policies:[{text:u.bt("Eksplisit secara seksual", "It's sexually explicit", "tried-it reporting flow", undefined, true),value:"nudity",isTerminalReason:!0,category:"nudity"},{text:u.bt("Tindakan melukai diri sendiri", "It's self-harm", "an option on tried-it reporting flow", undefined, true),value:"self-harm",isTerminalReason:!0,category:"self-harm"},{text:u.bt("Merupakan ujaran kebencian", "It's hate speech", "tried-it reporting flow", undefined, true),value:"hate-speech",isTerminalReason:!0,category:"hate-speech"},{text:u.bt("Merupakan pelecehan atau perundungan", "It's harassment or bullying", "tried-it reporting flow", undefined, true),value:"attacks",isTerminalReason:!1,category:"attacks"},{text:u.bt("Kekerasan yang vulgar", "It's graphic violence", "tried-it reporting flow", undefined, true),value:"gore",isTerminalReason:!0,category:"graphic-violence"}],attacks:[{text:u.bt("Foto saya atau anak saya", "It's a photo of me or my child", "tried-it reporting flow", undefined, true),value:"harassingMeOrMyChild",isTerminalReason:!0,category:"attacks"},{text:u.bt("Mengenali dan menyerang saya atau seseorang yang saya kenal", "It identifies and attacks me or someone I know", "tried-it reporting flow", undefined, true),value:"harassingMeOrAFriend",isTerminalReason:!0,category:"attacks"},{text:u.bt("Sesuatu yang lain", "Something else", "tried-it reporting flow", undefined, true),value:"harassingOther",isTerminalReason:!0,category:"attacks"}],IP:[],spam:[]},flagReason:x,flagType:c.Vm.DID_IT,flow:P,modalTitle:T,onClose:l(!0),onNext:()=>{A(v),p([...g,v]),D()},onRevert:()=>{let e=g[g.length-1],t=g.slice(0,-1);D(e),A(t[t.length-1]),p(t),y(),R(void 0===e?c.qb.STARTED:c.qb.SELECTED)},onSelectReason:(e,t,l)=>{e&&(D(t),R(c.qb.SELECTED),y(l))},selectedReason:v,showPrimaryAction:"IP"!==x,status:L,submitButton:O,users:d})}},174798:(e,t,l)=>{l.d(t,{Vm:()=>s,Zw:()=>o,qb:()=>i});let o={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},i={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},s={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},997138:(e,t,l)=>{l.d(t,{Z:()=>a});var o=l(883119),i=l(356997),s=l(898781),n=l(785893);let a=({isQuestion:e,name:t,size:l,src:a})=>{let r=(0,s.ZP)();return(0,n.jsxs)(o.xu,{"data-test-id":"comment-avatar-container",position:"relative",children:[(0,n.jsx)(i.qE,{name:t,size:l,src:a}),e&&(0,n.jsxs)(o.xu,{alignItems:"center",bottom:!0,display:"flex",height:16,justifyContent:"center",marginBottom:-1,marginEnd:-1,position:"absolute",right:!0,width:16,children:[(0,n.jsx)(o.xu,{position:"absolute",children:(0,n.jsx)(o.JO,{accessibilityLabel:r.bt("Komentar Tanya Jawab", "Q and A comment", "comment.userAvatar.creator.q&aIndicator", undefined, true),color:"dark",icon:"speech"})}),(0,n.jsx)(o.xu,{position:"absolute",children:(0,n.jsx)(o.JO,{accessibilityLabel:r.bt("Komentar Tanya Jawab", "Q and A comment", "comment.userAvatar.creator.q&aIndicator", undefined, true),color:"light",icon:"question-mark",size:8})})]})]})}},44715:(e,t,l)=>{l.d(t,{Z:()=>ei});var o=l(883119),i=l(667294),s=l(702664),n=l(473727),a=l(964569),r=l(129274),c=l(923764),d=l(997138),_=l(898781),u=l(785893);let m=({color:e,isMarkedHelpful:t})=>{let l=(0,_.ZP)();return(0,u.jsx)(o.JO,{accessibilityLabel:l.bt("Berguna", "Helpful", "comment.button.helpful", undefined, true),color:t?"brandPrimary":e,icon:"thumbs-up",inline:!0,size:12})};var h=l(28754),g=l(541776),p=l(407043),f=l(499128),y=l(773285),x=l(343341),A=l(19121),b=l(717615),E=l(845772),P=l(231947),T=l(139405),v=l(600147),I=l(550393),C=l(492583),k=l(116674);let w=({aggregatedPinDataId:e,anchor:t,closeupAttributionId:l,comment:n,dismiss:a,isOpen:r,isReply:c,onEdit:d,onShowBlockUserModal:m,parentId:w,pinnerId:j,pinId:z})=>{let D=(0,_.ZP)(),R=(0,s.useDispatch)(),{logContextEvent:L}=(0,p.v)(),{showToast:S}=(0,x.F9)(),{checkExperiment:O}=(0,y.F)(),{anyEnabled:M}=O("web_m10n_business_access_orbac_ga"),{toggleAggregatedCommentHighlight:G}=(0,T.nf)(),N=(0,h.Z)(),[Z,U]=(0,i.useState)(!1);(0,i.useEffect)(()=>{U(r)},[r,U]);let B=(0,A.Z)(),F=(0,b.Z)(),H=(0,E.Z)(),{reportComment:W}=(0,k.f)(),$=l??"",q=n.user.id,K=B.isAuth&&$===B.id,V="userdiditdata"===n.type,Y=(0,P.q6)(B,j??"",M?F:{}),X=(0,P.D3)(B,q,M?F:{}),J=(0,P.D3)(B,$,M?F:{}),Q=B.isAuth&&(n.tagged_users||[]).filter(({id:e})=>e===B.id).length>0,ee=async e=>{try{await G({aggregatedCommentId:n.id,pinId:z,isHighlighted:e}),L({event_type:101,component:13712,element:e?12475:12474,view_type:220,aux_data:{creator_id:q}}),S(({hideToast:t})=>(0,u.jsx)(f.ZP,{onHide:t,primaryAction:{accessibilityLabel:D.bt("Batalkan sorotan komentar atau penghapusan sorotan komentar", "Undo comment highlight or comment highlight removal", "unifiedComment.unifiedCommentContainer.commentHighlightToast.a11yUndoButton", undefined, true),label:D.bt("Urungkan", "Undo", "unifiedComment.unifiedCommentContainer.commentHighlightToast.undoButton", undefined, true),size:"lg",onClick:()=>{G({aggregatedCommentId:n.id,pinId:z,isHighlighted:!e})}},text:e?D.bt("Sorotan dihapus", "Highlight removed", "unifiedComment.unifiedCommentContainer.popover.commentHighlightRemovalToast", undefined, true):D.bt("Komentar disorot", "Comment highlighted", "unifiedComment.unifiedCommentContainer.popover.commentHighlightToast", undefined, true)}))}catch(e){e.message&&S(({hideToast:t})=>(0,u.jsx)(f.ZP,{onHide:t,text:e.message,type:"error"}))}},et=e=>()=>void ee(e),el=e=>()=>{e(),a(!0)};if(!r)return null;let eo={highlight:D.bt("Sorot", "Highlight", "Highlight a community post or comment", undefined, true),removeHighlight:D.bt("Hapus sorotan", "Remove highlight", "Remove highlight for a community post or comment", undefined, true),edit:D.bt("Edit", "Edit", "Edit a community post or comment", undefined, true),delete:D.bt("Hapus", "Delete", "Delete a community post or comment", undefined, true),reportContent:D.bt("Laporkan konten ini", "Report this content", "Report a community post or comment", undefined, true),removeMention:D.bt("Hapus @sebutan", "Remove @mention", "closeup.activityItem.removeMention", undefined, true),reportForNetzDG:D.bt("Laporkan komentar karena NetzDG", "Report comment for NetzDG", "commentOverflowMenu.option.reportForNetzDG", undefined, true),blockUser:D.bt("Blokir pengguna", "Block user", "closeup.activityItem.blockUser", undefined, true)},ei=new o.Ry(1);return Z&&(0,u.jsx)(o.xu,{onFocus:e=>e.stopPropagation(),children:(0,u.jsx)(o.Lt,{anchor:t,disableMobileUI:!0,id:"comment-overflow-popover",idealDirection:"down",isWithinFixedContainer:!1,onDismiss:()=>a(!1),zIndex:ei,children:B.isAuth?(0,u.jsxs)(i.Fragment,{children:[!c&&K&&!n.highlighted_by_pin_owner&&!V&&(0,u.jsx)(o.Lt.Item,{dataTestId:"dropdown-item-highlight",onSelect:el(et(!1)),option:{label:eo.highlight,value:eo.highlight}}),!c&&K&&n.highlighted_by_pin_owner&&!V&&(0,u.jsx)(o.Lt.Item,{dataTestId:"dropdown-item-remove-highlight",onSelect:el(et(!0)),option:{label:eo.removeHighlight,value:eo.removeHighlight}}),X&&(0,u.jsx)(o.Lt.Item,{dataTestId:"dropdown-item-edit",onSelect:el(d),option:{label:eo.edit,value:eo.edit}}),(X||J)&&(0,u.jsx)(o.Lt.Item,{dataTestId:"dropdown-item-delete",onSelect:el(()=>{"aggregatedcomment"===n.type?N({aggregatedCommentId:n.id,aggregatedPinId:e??"",feedType:c?"aggregatedComments":C.Z.UNIFIED_COMMENTS,orbacSubjectId:H,parentId:w,type:c?g.Rv.REPLY_TO_AGGREGATED:g.Rv.TOP,updateParentCommentCount:!0,pinId:z}):R((0,v.lg)({aggregatedPinDataId:e??"",feedType:C.Z.UNIFIED_COMMENTS,id:n.id,isOwnedByMe:!0,pinId:z??"",username:n.user.username,updateParentDidItCount:!0}))}),option:{label:eo.delete,value:eo.delete}}),!X&&!Y&&(0,u.jsx)(o.Lt.Item,{dataTestId:"dropdown-item-report",onSelect:el(()=>{W(n.id,w,n.type)}),option:{label:eo.reportContent,value:eo.reportContent}}),Q&&(0,u.jsx)(o.Lt.Item,{dataTestId:"dropdown-item-remove-mention",onSelect:el(()=>{R((0,I.Q)(n.id)),S(({hideToast:e})=>(0,u.jsx)(f.ZP,{onHide:e,text:D.bt("@sebutan dihapus", "@mention removed!", "unifiedComment.unifiedCommentContainer.mentionRemovalToast", undefined, true)}))}),option:{label:eo.removeMention,value:eo.removeMention}}),!X&&(0,u.jsx)(o.Lt.Item,{dataTestId:"dropdown-item-block-user",onSelect:el(()=>{U(!1),m(),L({component:14349,event_type:9406})}),option:{label:eo.blockUser,value:eo.blockUser}})]}):(0,u.jsx)(o.Lt.Link,{dataTestId:"dropdown-item-report-for-netzdg",href:"https://policy.pinterest.com/de/netzdg/",option:{label:eo.reportForNetzDG,value:eo.reportForNetzDG}})})})};var j=l(600636),z=l(133758);let D={containerStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)"},helpfulLabelStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)",right:"50%",transform:"translateX(50%)"},helpfulStyle:{backgroundImage:`url(${j})`},lovedLabelStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translateX(-50%)"},lovedStyle:{backgroundImage:`url(${z})`}},R=({setHelpful:e,setLoved:t})=>{let l=(0,_.ZP)(),[s,n]=(0,i.useState)(!1),[a,r]=(0,i.useState)(!1),c=e=>()=>{n(e)},d=e=>()=>{r(e)};return(0,u.jsxs)(o.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:D.containerStyle},"data-test-id":"comment-reaction-tray-background",display:"flex",height:25,justifyContent:"center",padding:1,position:"relative",rounding:"pill",width:43,children:[(0,u.jsx)(o.iP,{fullHeight:!0,onMouseDown:t,onMouseEnter:d(!0),onMouseLeave:d(!1),children:(0,u.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:D.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:18,marginBottom:a?3:1,position:"absolute",width:18,children:a&&(0,u.jsx)(o.xu,{color:"selected",dangerouslySetInlineStyle:{__style:D.lovedLabelStyle},marginTop:-7,paddingX:1,paddingY:1,position:"absolute",rounding:"pill",top:!0,children:(0,u.jsx)(o.xv,{color:"inverse",overflow:"noWrap",size:"100",weight:"bold",children:l.bt("Suka", "Love", "comment.button.loved", undefined, true)})})})}),(0,u.jsx)(o.iP,{fullHeight:!0,onMouseDown:e,onMouseEnter:c(!0),onMouseLeave:c(!1),children:(0,u.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:D.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:18,marginBottom:s?3:1,position:"absolute",width:18,children:s&&(0,u.jsx)(o.xu,{color:"selected",dangerouslySetInlineStyle:{__style:D.helpfulLabelStyle},marginTop:-7,paddingX:1,paddingY:1,position:"absolute",rounding:"pill",top:!0,children:(0,u.jsx)(o.xv,{color:"inverse",overflow:"noWrap",size:"100",weight:"bold",children:l.bt("Berguna", "Helpful", "comment.button.helpful", undefined, true)})})})})]})};var L=l(311716),S=l(559113),O=l(356997);let M={helpfulStyle:{backgroundImage:`url(${L})`},lovedStyle:{backgroundImage:`url(${S})`}},G=({response:e})=>{let t=14===e.reaction_type,l=1===e.reaction_type,i=e.user.is_private_profile?e.user.first_name:e.user.full_name;return(0,u.jsxs)(o.kC,{alignItems:"center",children:[(0,u.jsx)(o.Tg,{href:`/${e.user.username}/`,children:(0,u.jsxs)(o.kC,{alignItems:"center",children:[(0,u.jsx)(o.xu,{maxWidth:40,children:(0,u.jsx)(O.qE,{accessibilityLabel:"",name:i,outline:!0,size:"sm",src:e.user.image_medium_url})}),(0,u.jsx)(o.xu,{marginStart:2,maxWidth:80,children:(0,u.jsx)(o.xv,{color:"inverse",size:"100",weight:"bold",children:i})})]})}),(0,u.jsxs)(o.xu,{alignContent:"end",display:"flex",padding:2,children:[l&&(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:M.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:16,width:16}),t&&(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:M.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:16,width:16})]})]})};var N=l(784590);let Z=["userreaction.id","userreaction.reaction_type","userreaction.user()","user.first_name","user.full_name","user.id","user.image_medium_url","user.is_private_profile","user.username"],U=({commentId:e,isMarkedHelpfulByMe:t,isLovedByMe:l,isTry:s})=>{let n=(0,A.Z)(),a=(0,N.Z)({name:"ApiResource",options:{url:s?`/v3/did_it/${e}/reacted_by/`:`/v3/aggregated_comments/${e}/reacted_by/`,field_sets:Z}}),r=a.data?.filter(e=>e.user.id!==n.id);if((l||t)&&r){let t={id:e,reaction_type:l?1:14,user:{first_name:n.isAuth?n.firstName:"",full_name:n.isAuth?n.fullName:"",id:n.isAuth?n.id:"",image_medium_url:n.isAuth?n.imageMediumUrl:"",is_private_profile:!!n.isAuth&&!!n.isPrivateProfile,username:n.isAuth?n.username:""}};r=[t,...r]}let c=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let{current:e}=c,t=()=>{a.isFetching||(a.isAtEnd?e?.removeEventListener("scroll",t):a.fetchMore())};return e?.addEventListener("scroll",t),()=>{e?.removeEventListener("scroll",t)}},[a]),(0,u.jsx)(o.xu,{ref:c,color:"selected",maxHeight:140,overflow:"scroll",rounding:2,width:180,children:r?.map(e=>u.jsx(o.xu,{"data-test-id":"reaction-list-single-user",margin:3,children:u.jsx(G,{response:e})},e.id))})};var B=l(814197);let F=({commentId:e,dismissReactionList:t,helpfulCount:l,isMarkedHelpfulByMe:s,isLovedByMe:n,isReactionListOpen:a,isTry:r,lovedCount:c,onReactionCountHover:d,onToggleHelpful:m,onToggleLove:h})=>{let g=(0,_.ZP)(),p=(0,i.useRef)(),[f,y]=(0,i.useState)(!1),x=!1,A=(c||0)+(l||0);s&&n&&(A-=1);let b=e=>()=>{y(e)},E=()=>{x=!0,d()},P=()=>{x=!1,setTimeout(()=>{x||t()},1e3)},T=(0,u.jsx)(o.xu,{"data-test-id":"comment-reaction-container-entry-point",children:f?(0,u.jsx)(o.iP,{onMouseDown:b(!1),onMouseLeave:b(!1),children:(0,u.jsx)(R,{setHelpful:m(!0),setLoved:h(!0)})}):(0,u.jsx)(o.iP,{onMouseEnter:b(!0),children:(0,u.jsx)(o.JO,{accessibilityLabel:g.bt("Beri Reaksi", "React", "comment.actionbar.react", undefined, true),color:"subtle",icon:"heart-outline",size:16})})});return(0,u.jsxs)(o.kC,{alignItems:"center",gap:{row:1,column:0},children:[s||n?(0,u.jsx)(o.iP,{onMouseDown:()=>{m(!1)(),h(!1)()},children:(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n?S:L})`}},"data-test-id":n?"comment-reaction-container-loved-emoji":"comment-reaction-container-helpful-emoji",height:16,width:16})}):T,A>0&&(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(o.iP,{onMouseEnter:E,onMouseLeave:P,children:(0,u.jsx)(o.xu,{ref:p,"data-test-id":"comment-reaction-container-reaction-count",children:(0,u.jsx)(o.xv,{color:"subtle",inline:!0,size:"200",weight:"bold",children:A})})}),a&&(0,u.jsx)(o.mh,{zIndex:B.lI,children:(0,u.jsx)(o.J2,{anchor:p.current,idealDirection:"down",onDismiss:t,positionRelativeToAnchor:!1,children:(0,u.jsx)(o.iP,{onMouseEnter:E,onMouseLeave:P,children:(0,u.jsx)(U,{commentId:e,isLovedByMe:n,isMarkedHelpfulByMe:s,isTry:r})})})})]})]})};var H=l(513578),W=l(349700);function $(e){let{featuredCommentId:t,parentId:l,parentType:n,isDesktop:a,isLoading:r,isReadOnly:c,openOverflowMenu:d,replyingToCommentId:m,toggleHelpful:h,toggleLike:g,toggleReplyComposer:p,isORBACProfileManager:f,isVideo:y,storyPinDataId:x,pinId:A,closeupAttributionId:b,aggregatedPinDataId:E,closeupAttributionUsername:P,pinnerId:v,reactionListCommentId:I,showReactionListForComment:k,viewParameter:w}=e,j=(0,_.ZP)(),z=(0,T.lV)(),D=(0,s.useSelector)(({feeds:e})=>{let t=e[`${C.Z.AGGREGATED_COMMENT_REPLIES}:${l}`]||[],o=e[`${C.Z.AGGREGATED_COMMENTS}:${l}`]||[],i=t.concat(o);return i.reduceRight((e,{id:t})=>{let l=z[t];return l?[...e,l]:e},[])}),[R,L]=(0,i.useState)(1),S=R===D.length;return(0,u.jsxs)(i.Fragment,{children:[D.length>1&&(0,u.jsx)(o.iP,{onTap:()=>{L(S?0:D.length)},children:(0,u.jsxs)(o.xu,{marginBottom:4,children:[(0,u.jsx)(o.xu,{display:"inlineBlock",marginEnd:2,children:(0,u.jsx)(o.xv,{color:"subtle",size:"200",weight:"bold",children:"⎯⎯"})}),(0,u.jsx)(o.xv,{color:"subtle",inline:!0,size:"100",weight:"bold",children:S?j.bt("Sembunyikan balasan", "Hide replies", "comment.button.hideReplies", undefined, true):(0,W.nk)(j.nbt(["Lihat {{ commentCount }} balasan"], D.length, "comment.button.showReplies", true),{commentCount:D.length})})]})}),(0,u.jsx)(ei,{aggregatedPinDataId:E,closeupAttributionId:b,closeupAttributionUsername:P,comments:D.slice(0,R),commentsDisabled:!1,featuredCommentId:t,gapSize:2,isDesktop:a,isLoading:r,isORBACProfileManager:f,isReadOnly:c,isVideo:y,openOverflowMenu:d,parentId:l,parentType:n,pinId:A,pinnerId:v,reactionListCommentId:I,replyingToCommentId:m,showReactionListForComment:k,storyPinDataId:x,toggleHelpful:h,toggleLike:g,toggleReplyComposer:p,userAvatarSize:"sm",viewParameter:w})]})}var q=l(264322),K=l(298361),V=l(584595),Y=l(780280),X=l(379725),J=l(664569),Q=l(94089),ee=l(737849),et=l(90326);function el(e){let t;let{aggregatedPinDataId:l,closeupAttributionId:h,closeupAttributionUsername:E,comment:I,featuredCommentId:C,isDesktop:k,isReadOnly:j,isVideo:z,openOverflowMenu:D,toggleReplyComposer:R,parentId:L,parentType:S=J.o.pin,pinId:O,storyPinDataId:M,replyingToCommentId:G,showReactionListForComment:N,toggleHelpful:Z,toggleLike:U,userAvatarSize:B,isORBACProfileManager:el,pinnerId:eo,reactionListCommentId:ei,viewParameter:es}=e,{user:{id:en,first_name:ea,id:er,image_medium_url:ec,username:ed},id:e_,image_signatures:eu,is_translatable:em,comment_count:eh,helpful_count:eg,tags:ep=[]}=I,[ef,ey]=(0,i.useState)(!1),ex=ef&&I.translatedText||I.text,eA=!em||""===I.translatedText,eb=!1,eE=0,eP=!1,eT=!!I.marked_helpful_by_me,ev=[I.user],eI="",eC=new Date;"aggregatedcomment"===I.type?(eb=I.highlighted_by_pin_owner,eE=I.reaction_counts[1],eP=I.reaction_by_me>0,ev.push(...I.tagged_users),eI=`${ed} ${ex}`,eC=new Date(I.created_at)):(eE=I.like_count,eP=I.liked_by_me,t=(I.images[0]||{})["150x150"],eI=`${ed} ${I.details}`,eC=new Date(I.done_at));let ek=(0,_.ZP)(),ew=(0,A.Z)(),{logContextEvent:ej}=(0,p.v)(),{country:ez,isBot:eD}=(0,Y.B)(),{checkExperiment:eR}=(0,y.F)(),{showToast:eL}=(0,x.F9)(),eS=(0,s.useDispatch)(),eO=(0,i.useRef)(),{anyEnabled:eM}=eR("web_m10n_business_access_orbac_ga"),eG=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"].includes(ez),eN=1===I.comment_tag,eZ=(0,b.Z)(),eU=eM?(0,P.lJ)(ew,eZ):"",{nativeEngagementsHiddenForUser:eB}=(0,Q.G)(),{aggregatedCommentsHiddenForUser:eF,translateAggregatedComment:eH,updateAggregatedComment:eW}=(0,T.nf)(),e$=(0,a.Z)(),eq="userdiditdata"===I.type,eK=(0,K.Z)(),eV=em&&eR("dweb_comment_translations").anyEnabled,eY=eq&&eR("dweb_photo_commenting").anyEnabled,eX=eq&&k&&eR("dweb_photo_comment_replies").anyEnabled,eJ=eq&&!k&&eR("mweb_photo_comment_replies").anyEnabled,eQ=eq&&eR("mweb_photo_commenting").anyEnabled,e0=!j&&!el&&eq,e1=e0&&k&&eR("dweb_photo_comment_reactions").anyEnabled,e8=e0&&!k&&eR("mweb_photo_comment_reactions").anyEnabled,e9=[{offset:0,length:ed.length,color:"darkGray"},...ep.map(e=>({...e,offset:(e.offset||0)+ed.length+1,color:"shopping"}))],e4={SHOW_TRANSLATION:ek.bt("Lihat terjemahan", "Show translation", "comment.translateButton.showTranslation", undefined, true),TRANSLATING:ek.bt("Menerjemahkan ...", "Translating...", "comment.translateButton.translating", undefined, true),SHOW_ORIGINAL:ek.bt("Tampilkan aslinya", "Show original", "comment.translateButton.showOriginal", undefined, true)},e6=(0,i.useRef)(e4.SHOW_TRANSLATION),[e3,e7]=(0,i.useState)(!1),[e2,e5]=(0,i.useState)(!1),[te,tt]=(0,i.useState)(!1),[tl,to]=(0,i.useState)(!1),[ti,ts]=(0,i.useState)(!1),[tn,ta]=(0,i.useState)(!1),[tr,tc]=(0,i.useState)(g.A9.NONE),td=e=>()=>{e5(e)};(0,i.useEffect)(()=>{eV&&ej({event_type:10416,view_type:3,view_parameter:es,component:"pin"===S?13696:13697})},[ej,S,eV,es]),(0,i.useEffect)(()=>{eh>0&&!eD&&eS((0,X.U)("aggregatedcomment"===I.type?"AggregatedCommentReplyFeedResource":"DidItCommentsResource",{options:{isUnifiedComment:!0,objectId:e_,redux_normalize_feed:!0}}))},[I.type,e_]);let t_=S.toLowerCase()===J.o.aggregatedComment.toLowerCase()||S.toLowerCase()===J.n.didIt.toLowerCase(),tu=Object.values(J.n).includes(S.toLowerCase()),tm=I.user.first_name||"",th=async({contentMarkdown:e,force:t,tags:l})=>{let o,i;to(!0);let s=I.id;if(t_&&(o=S.toLowerCase()===J.n.didIt,s=L,i=I.id),s)try{await e$({force:t,fromUnifiedComment:!0,objectType:eq||o?J.o.didIt:J.o.aggregatedComment,objectId:s,orbacSubjectId:eU,tags:l,text:e,replyToCommentId:i})}catch(e){if([V.ky,V.LJ].includes(e.code)&&k)return tc(e.code===V.ky?g.A9.WARNING:g.A9.BLOCK),to(!1),!1}return R&&R(void 0),to(!1),!0},tg=async({contentMarkdown:e,force:t,tags:l})=>{tt(!0);try{eY?await eS((0,v.IU)({id:I.id,details:e,pinId:O??"",image_signatures:eu??[]})):await eW({commentId:I.id,force:t,orbacSubjectId:eU,tags:l,text:e})}catch(e){if([V.ky,V.LJ].includes(e.code)&&k)return tc(e.code===V.ky?g.A9.WARNING:g.A9.BLOCK),tt(!1),!1}return e5(!1),tt(!1),!0},tp=e=>()=>{e7(e),ta(e),e||ej({component:14349,event_type:9408})},tf=()=>{tc(g.A9.NONE)},ty=()=>{ef||I.translatedText||eH(I.id),ef||e6.current!==e4.SHOW_TRANSLATION?ef&&e6.current===e4.SHOW_ORIGINAL&&ej({event_type:10418,view_type:3,view_parameter:es,component:"pin"===S?13696:13697}):ej({event_type:10417,view_type:3,view_parameter:es,component:"pin"===S?13696:13697}),ey(!ef)};(0,i.useEffect)(()=>{ef&&eA&&(ey(!ef),eL(({hideToast:e})=>(0,u.jsx)(f.ZP,{onHide:e,text:ek.bt("Kesalahan - tidak dapat menerjemahkan", "Error - couldn't translate", "comment.couldNotTranslate.toast", undefined, true),type:"error"})))},[ef,eA]),ef?e6.current=I.translatedText?e4.SHOW_ORIGINAL:e4.TRANSLATING:e6.current=e4.SHOW_TRANSLATION;let tx=t&&(0,u.jsx)(o.xu,{marginBottom:!k&&eQ?2:4,marginTop:1,children:(0,u.jsx)(o.zd,{height:150,rounding:2,wash:!0,width:150,children:(0,u.jsx)(o.Ee,{alt:t.url??"",color:"#efefef",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url??""},t.url)})});return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(o.$j,{accessibilityLabel:"Loading comment",show:te}),!e2&&!te&&(0,u.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,u.jsx)(o.xu,{marginEnd:2,children:(0,u.jsx)(n.rU,{to:`/${ed}/`,children:(0,u.jsx)(d.Z,{isQuestion:eN,name:ea||ed||"",size:B,src:ec??""})})}),(0,u.jsxs)(o.kC,{direction:"column",flex:"grow",justifyContent:"start",children:[(0,u.jsxs)(o.kC,{justifyContent:"between",children:[(0,u.jsx)(o.kC.Item,{minWidth:0,children:(0,u.jsxs)(o.kC,{dataTestId:"author-and-comment-container",direction:"column",children:[!k&&eQ&&tx,(0,u.jsx)(q.Z,{isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:ev,tags:e9,text:eI}),(k||!k&&!eQ)&&tx,eV&&(0,u.jsx)(o.xu,{marginBottom:2,marginTop:2,children:(0,u.jsx)(o.iP,{onTap:()=>ty(),children:(0,u.jsx)(o.xv,{color:"subtle",size:"300",weight:"bold",children:e6.current})})})]})}),C===e_&&(0,u.jsx)(o.xu,{alignSelf:"center",color:"primary",height:8,minWidth:8,rounding:"pill"})]}),eb&&(0,u.jsx)(o.xu,{marginBottom:3,marginTop:4,children:(0,u.jsx)(o.xv,{size:"100",children:(0,W.nk)(ek.bt("Disorot oleh @{{ closeupAttributionUsername }}", "Highlighted by @{{ closeupAttributionUsername }}", "comment.highlighted.label", undefined, true),{closeupAttributionUsername:E})})}),(!j||eG)&&(0,u.jsxs)(o.xu,{alignItems:"center",display:"flex",height:25,justifyContent:"between",position:"relative",children:[(0,u.jsxs)(o.kC,{alignItems:"center",gap:{row:5,column:0},children:[!j&&(0,u.jsx)(o.xu,{"data-test-id":"comments-time-passed",children:(0,u.jsx)(o.xv,{color:"subtle",size:"200",children:eK(eC,!0)})}),!j&&(!el||eM)&&(!eq||eX||eJ)&&(0,u.jsx)(o.xu,{"data-test-id":"comment-reply-button-container",children:(0,u.jsx)(o.iP,{onTap:()=>{R&&R(I,L,S)},children:(0,u.jsx)(o.xv,{color:"subtle",size:"200",weight:"bold",children:ek.bt("Balas", "Reply", "comment.button.reply", undefined, true)})})}),!j&&!el&&(!eq||e1||e8)&&(k?(0,u.jsx)(F,{commentId:e_,dismissReactionList:()=>{N(void 0)},helpfulCount:eg,isLovedByMe:eP,isMarkedHelpfulByMe:eT,isReactionListOpen:ei===e_,isTry:eq,lovedCount:eE,onReactionCountHover:()=>{N(e_),ej({event_type:9906,component:"pin"===S?13696:13697,view_type:3,view_parameter:es})},onToggleHelpful:e=>()=>{eT!==e&&Z(e_,!e,eq)()},onToggleLove:e=>()=>{eP!==e&&U(e_,!e,eq)()}}):(0,u.jsxs)(o.xu,{alignItems:"center","data-test-id":"reactions-likeWithCountButton",display:"flex",children:[(0,u.jsx)(o.hU,{accessibilityLabel:ek.bt("Suka", "Like", "comment.button.like", undefined, true),icon:"heart",iconColor:eP?"red":"gray",onClick:U(e_,eP,eq),size:"xs"}),eE>0&&(0,u.jsx)(o.xu,{"data-test-id":"love-count-container",children:(0,u.jsx)(o.xv,{color:"subtle",size:"100",weight:"bold",children:eE})})]})),!(ew.id===er&&eN)&&(!el||eM)&&(0,u.jsx)(o.xu,{ref:eO,"data-test-id":"comment-more-options",children:(0,u.jsx)(o.hU,{accessibilityLabel:ek.bt("Lainnya", "More", "comment.button.more", undefined, true),icon:"ellipsis",iconColor:"gray",onClick:()=>{k?e7(!e3):D&&D(I)},size:"xs"})})]}),!j&&!el&&!k&&(!eq||e8)&&(0,u.jsx)(o.xu,{marginStart:6,children:(0,u.jsx)(o.iP,{fullWidth:!1,onTap:Z(e_,eT,eq),children:(0,u.jsxs)(o.kC,{alignItems:"center",dataTestId:"helpful-reaction",gap:{row:1,column:0},height:"100%",children:[(0,u.jsx)(m,{color:"subtle",isMarkedHelpful:eT}),(0,u.jsx)(o.xv,{color:"subtle",size:"200",weight:"bold",children:ek.bt("Berguna", "Helpful", "comment.button.helpful", undefined, true)}),eg>0&&(0,u.jsx)(o.xu,{"data-test-id":"helpful-count-container",children:(0,u.jsx)(o.xv,{color:"subtle",size:"100",weight:"bold",children:eg})})]})})})]})]})]}),k&&(0,u.jsxs)(i.Fragment,{children:[e2&&(0,u.jsx)(o.xu,{marginTop:3,children:(0,u.jsx)(H.Z,{commentWarningModalState:tr,dismissCommentWarningModal:tf,initialTags:I.tags,initialText:"aggregatedcomment"===I.type?I.text:I.details,isReplyEditor:tu,objectType:J.o.aggregatedComment,onAddItem:tg,onCancelItem:td(!1),postedPhoto:t,showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:es})}),G===e_&&(0,u.jsx)(o.xu,{marginStart:t_?0:12,marginTop:3,children:(0,u.jsx)(H.Z,{commentWarningModalState:tr,dismissCommentWarningModal:tf,initialTags:t_?[{offset:0,object_id:en,length:tm.length,tag_type:1}]:[],initialText:t_?`${tm} `:"",isReplyEditor:tu,objectType:J.o.aggregatedComment,onAddItem:th,onCancelItem:()=>{R&&R()},showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:es})})]}),(eh>0||tl)&&(0,u.jsx)(o.xu,{marginStart:12,marginTop:4,children:(0,u.jsx)($,{aggregatedPinDataId:l,closeupAttributionId:h,closeupAttributionUsername:E,featuredCommentId:C,isDesktop:k,isLoading:tl,isORBACProfileManager:el,isReadOnly:j,isVideo:z,openOverflowMenu:D,parentId:e_,parentType:I.type,pinId:O,pinnerId:eo,reactionListCommentId:ei,replyingToCommentId:G,showReactionListForComment:N,storyPinDataId:M,toggleHelpful:Z,toggleLike:U,toggleReplyComposer:R,viewParameter:es})}),k&&(!j||eG)&&(0,u.jsx)(w,{aggregatedPinDataId:l,anchor:eO.current,closeupAttributionId:h,comment:I,dismiss:e=>{e7(!1),e||ej({component:14349,event_type:10128})},isOpen:e3,isReply:t_,onEdit:td(!0),onShowBlockUserModal:tp(!0),parentId:L,pinId:O,pinnerId:eo}),ti&&(0,u.jsx)(r.N,{children:(0,u.jsx)(c.Z,{aggregatedPinDataId:l,didItDataId:e_,onClose:e=>()=>{ts(!e)},pinId:O??"",username:ed,users:[I.user]})}),tn&&(0,u.jsx)(ee.Z,{firstName:ea??"",onBlockUser:()=>{eS((0,et.Ge)({id:en,orbacSubjectId:eU,blockSource:"comment",blockContext:e_,logContextEvent:ej})),eF(en),eB(en),ej({event_type:101,component:13712,element:87,view_type:220,aux_data:{creator_id:ew.isAuth?ew.id:null}}),ej({component:14349,event_type:9407}),ta(!1),eL(({hideToast:e})=>(0,u.jsx)(f.ZP,{onHide:e,text:(0,W.nk)(ek.bt("Anda telah memblokir {{ username }}", "You've blocked {{ username }}", "comment.blockAuthor.toast", undefined, true),{username:ed}).join("")}))},onClearModal:tp(!1)})]})}var eo=l(366428);function ei(e){let t;let{aggregatedPinDataId:l,comments:i,commentsDisabled:s,featuredCommentId:n,gapSize:a=6,isDesktop:r,isLoaded:c=!1,isLoading:d=!1,isReadOnly:m,openOverflowMenu:h,toggleReplyComposer:g,parentId:p,parentType:f,replyingToCommentId:y,toggleHelpful:x,toggleLike:A,userAvatarSize:b,isORBACProfileManager:E,isVideo:P,storyPinDataId:T,pinId:v,closeupAttributionId:I,closeupAttributionUsername:C,pinnerId:k,showReactionListForComment:w,reactionListCommentId:j,viewParameter:z}=e,D=(0,_.ZP)();return(t=T?"story":P?"video":"pin",s)?(0,u.jsx)(o.xu,{alignSelf:"center","data-test-id":"comments-disabled-label",width:"100%",children:(0,u.jsx)(o.xv,{align:r?"start":"center",color:"subtle",children:D.bt("Komentar dinonaktifkan untuk Pin ini", "Comments are turned off for this Pin", "commentThread.disabledState.message", undefined, true)})}):i.length>0?(0,u.jsxs)(o.kC,{dataTestId:"aggregated-comment-list",direction:"column",gap:{row:0,column:a},maxHeight:"100%",width:"100%",children:[i.map((e,i)=>(0,u.jsx)(eo.F,{componentType:"pin"===f?13696:13697,impressionAuxFields:{commentId:e.id,pinId:v,pinOwnerUserId:I,pinType:t,parentId:p,parentType:f,commentType:"aggregatedComment"},impressionType:"Comment",loggingId:e.id,slotIndex:i,viewType:r?3:98,children:({impressionTrackerRef:t})=>(0,u.jsx)(o.xu,{ref:t,"data-test-id":"commentThread-comment",children:(0,u.jsx)(el,{aggregatedPinDataId:l,closeupAttributionId:I,closeupAttributionUsername:C,comment:e,featuredCommentId:n,isDesktop:r,isORBACProfileManager:E,isReadOnly:m,isVideo:P,openOverflowMenu:h,parentId:p,parentType:f,pinId:v,pinnerId:k,reactionListCommentId:j,replyingToCommentId:y,showReactionListForComment:w,storyPinDataId:T,toggleHelpful:x,toggleLike:A,toggleReplyComposer:g,userAvatarSize:b,viewParameter:z})})},e.id)),(0,u.jsx)(o.$j,{accessibilityLabel:D.bt("Memuat komentar", "Comments loading", " - ", undefined, true),show:d})]}):(0,u.jsxs)(o.xu,{alignSelf:"center",width:"100%",children:[(0,u.jsx)(o.$j,{accessibilityLabel:D.bt("Memuat komentar", "Comments loading", " - ", undefined, true),show:d}),c&&(0,u.jsx)(o.xv,{align:r?"start":"center",color:"subtle",children:D.bt("Belum ada komentar! Tambahkan satu untuk memulai percakapan.", "No comments yet! Add one to start the conversation.", "commentThread.emptyState.message", undefined, true)})]})}},513578:(e,t,l)=>{l.d(t,{Z:()=>a});var o=l(667294),i=l(995228),s=l(785893);let n=(0,o.lazy)(()=>Promise.all([l.e(11177),l.e(30863)]).then(l.bind(l,778072)));function a(e){return(0,s.jsx)(i.Z,{fallback:null,children:(0,s.jsx)(n,{...e})})}},264322:(e,t,l)=>{l.d(t,{Z:()=>r});var o=l(667294),i=l(883119),s=l(643010),n=l(898781),a=l(785893);let r=({hasManyComments:e,isFirstTaggedUserAuthor:t,isInCommentModule:l,shouldShowFirstNameOnly:r,tags:c,taggedUsers:d,text:_})=>{let u=(0,n.ZP)(),m=(0,o.useRef)(null),h=(0,s.Yc)()?"#111111":"#FFFFFF",[g,p]=(0,o.useState)(!1),f=u.bt("... lihat", "...view", "comment.module.toggle.view", undefined, true),y=u.bt("... lihat semua", "...view all", "comment.module.toggle.viewAll", undefined, true),x=e?y:f;(0,o.useEffect)(()=>{m.current&&p(m.current.scrollHeight>m.current.offsetHeight)},[m,p,_]);let A=(e,t)=>(0,a.jsx)(i.xv,{inline:!0,overflow:"normal",children:(0,a.jsx)("span",{className:"text-container",children:e})},t),b=(e,o,s,n)=>{let c=r||0===s&&t?d[s].first_name||d[s].username[0]:o;return(0,a.jsx)(i.xv,{color:e,inline:!0,overflow:"normal",weight:"bold",children:l?c:(0,a.jsx)(i.rU,{display:"inlineBlock",href:`/${d[s].username}`,underline:"hover",children:c})},n)};return(0,a.jsx)("span",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:(()=>{if(!c.length||!d||c.length!==d.length)return A(_,"1");let e=0,t=[];return c.forEach((l,o)=>{let i=_.substring(e,l.offset);e=l.offset+l.length;let s=_.substring(l.offset,e);t=t.concat(A(i,`${o}a`)).concat(b(l.color,s,o,`${o}b`))}),t=t.concat(A(_.substring(e),"2")),(0,a.jsx)(i.xu,{marginEnd:3,position:"relative",children:(0,a.jsxs)(i.xv,{ref:m,inline:!0,lineClamp:l?2:void 0,children:[t,l&&!g&&(0,a.jsxs)(i.xv,{inline:!0,weight:"bold",children:["\xa0",x]}),l&&g&&(0,a.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:`linear-gradient(270deg, ${h} 50%, ${h}00 100%)`}},display:"inlineBlock",position:"absolute",right:!0,width:140,children:(0,a.jsxs)(i.xv,{align:"end",weight:"bold",children:["\xa0",x]})})]})})})()})}},541776:(e,t,l)=>{l.d(t,{A9:()=>r,LH:()=>i,Rv:()=>s,TJ:()=>n,iB:()=>o,pW:()=>a});let o=48,i=o+8,s=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),n="comment_featured_ids",a="did_it_featured_ids",r={NONE:"none",WARNING:"warning",BLOCK:"block"}},512465:(e,t,l)=>{l.d(t,{Z:()=>m,w:()=>h});var o=l(349700);let i=e=>e.bt("{{ first }}", "{{ first }}", "Generic message that lists 1 item", undefined, true),s=e=>e.bt("{{ first }} dan {{ second }}", "{{ first }} and {{ second }}", "Generic message that lists 2 items", undefined, true),n=e=>e.bt("{{ first }}, {{ second }}, dan {{ third }}", "{{ first }}, {{ second }} and {{ third }}", "Generic message that lists 3 items", undefined, true),a=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, dan {{ fourth }}", "{{ first }}, {{ second }}, {{ third }} and {{ fourth }}", "Generic message that lists 4 items", undefined, true),r=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, dan {{ fifth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}", "Generic message that lists 5 items", undefined, true),c=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, dan {{ sixth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}", "Generic message that lists 6 items", undefined, true),d=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }}, dan {{ seventh }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}", "Generic message that lists 7 items", undefined, true),_=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, dan {{ remaining }} lainnya", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others", "Generic message that lists more than 6 items", undefined, true),u=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }}, dan {{ remaining }} lainnya", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others", "Generic message that lists more than 7 items", undefined, true);function m(e,t){let l={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,o.nk)(i(t),l);case 2:return(0,o.nk)(s(t),l);case 3:return(0,o.nk)(n(t),l);case 4:return(0,o.nk)(a(t),l);case 5:return(0,o.nk)(r(t),l);case 6:return(0,o.nk)(c(t),l);default:return(0,o.nk)(_(t),l)}}function h(e,t){let l={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,o.nk)(i(t),l);case 2:return(0,o.nk)(s(t),l);case 3:return(0,o.nk)(n(t),l);case 4:return(0,o.nk)(a(t),l);case 5:return(0,o.nk)(r(t),l);case 6:return(0,o.nk)(c(t),l);case 7:return(0,o.nk)(d(t),l);default:return(0,o.nk)(u(t),l)}}},81226:(e,t,l)=>{l.d(t,{Z:()=>o});function o(e){let t=Math.round(e/1e3),l=t%60;return Math.floor(t/60)+":"+(l<10?"0":"")+l}},311541:(e,t,l)=>{l.d(t,{Z:()=>i});var o=l(667294);function i(e,t){let l=(0,o.useRef)([]),[i,s]=(0,o.useState)(),[n,a]=(0,o.useReducer)(i??(()=>t),t),r=(0,o.useCallback)(t=>{i?a(t):(l.current.length||e().then(e=>{s(()=>e.default)}),l.current=[...l.current,t])},[e,i]);return(0,o.useEffect)(()=>{i&&(l.current.forEach(a),l.current=[])},[i]),[n,r]}},869899:(e,t,l)=>{l.d(t,{r:()=>A,K:()=>x});var o=l(667294),i=l(425288),s=l(773285),n=l(784590),a=l(19121),r=l(389643),c=l(339363),d=l(70061);let _=e=>{let t={};for(let l in e)Object.prototype.hasOwnProperty.call(e,l)&&("object"!=typeof e[l]||null===e[l]||Array.isArray(e[l])?t[(0,d.Z)(l)]=e[l]:t[(0,d.Z)(l)]=_(e[l]));return t},u=(e,t)=>{let l=[];for(let o in e)o!==t&&l.push({id:o,..._(e[o])});let o=l.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),i=new Map;for(let e of o)i.set(e.id,e);return i},m={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},g=({dispatch:e,isEnabled:t,state:l})=>{let{orbacVisibility:i,disableProfileChanger:s,headerVisible:n}=l,a=(0,o.useCallback)(l=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:l})},[t,e]),r=(0,o.useCallback)(l=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:l??!i})},[t,e,i]),c=(0,o.useCallback)(l=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:l??!s})},[t,e,s]),d=(0,o.useCallback)(l=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:l??!n})},[t,e,n]);return{changeProfile:a,toggleORBACVisibility:r,toggleDisableProfileChanger:c,toggleHeaderVisibility:d}},p=e=>{let[t,l]=(0,o.useReducer)(h,m),i=g({dispatch:l,isEnabled:e,state:t}),{activeProfile:s,orbacVisibility:n}=t;(0,o.useEffect)(()=>{let e=(0,c.qn)("orbacActiveProfile",!1);e&&l({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,o.useEffect)(()=>{let e=(0,c.qn)("orbacVisibilty",!1);e&&l({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,o.useEffect)(()=>{(0,c.Nh)("orbacVisibility",n)},[n]),(0,o.useEffect)(()=>{(0,c.Nh)("orbacActiveProfile",s)},[s]);let a=(0,o.useCallback)((e,t)=>{l({type:"LOAD_PROFILES",payload:u(e,t)})},[l]);return{state:t,actions:i,receiveProfiles:a}};var f=l(785893);let{Provider:y,useMaybeHook:x}=(0,i.Z)("RoleBasedAccessControlContext"),A=({children:e})=>{let t;let{checkExperiment:l}=(0,s.F)(),i=(0,a.Z)(),c=!!(i.isAuth&&i.isPartner&&l("web_m10n_business_access_orbac_www").anyEnabled),{state:d,actions:_,receiveProfiles:u}=p(c),{activeProfile:m,headerVisible:h,profiles:g=[]}=d,x=g?Array.from(g.values()):[],A=(0,r.Z)(x),b=!!i.isAuth&&x.length>0&&A,E=i.isAuth?i.id:"",P=i.isAuth?i.username:"",{changeProfile:T,toggleORBACVisibility:v,toggleDisableProfileChanger:I,toggleHeaderVisibility:C}=_;(0,o.useEffect)(()=>{if(c){if("string"==typeof A){T(A);return}m||T(E)}},[A,E,c,T,m]),(0,o.useEffect)(()=>{c&&(b&&!h&&C(!0),!b&&h&&C(!1))},[C,b,c,h,g]);let{data:k}=(0,n.Z)(c?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),w=k?.profiles;i&&i.isAuth&&d.activeProfile===i.id?t={id:i.id,permissions:["OWNER"],user:{username:P,businessName:i.fullName,imgUrl:i.imageSmallUrl}}:m&&d.profiles&&(t=d.profiles.get(m)),(0,o.useEffect)(()=>{w&&u(w,E)},[u,w,E]);let j=d.profiles?Array.from(d.profiles.values()):[];return(0,f.jsx)(y,{value:{profiles:j,headerVisible:d.headerVisible,activeProfile:t,changeProfile:T,toggleORBACVisibility:v,toggleDisableProfileChanger:I,toggleHeaderVisibility:C},children:e})}},717615:(e,t,l)=>{l.d(t,{Z:()=>n});var o=l(773285),i=l(869899),s=l(389643);let n=()=>{let{checkExperiment:e}=(0,o.F)(),t=(0,i.K)(),{activeProfile:l}=t||{},n=e("web_m10n_business_access_orbac_www").anyEnabled,a=(0,s.Z)(t?.profiles||[]),{anyEnabled:r}=e("useorbacroutematcher_in_useorbacactingas");return n&&(!r||a)&&l&&(l.viewerMeetsMfaRequirement||(l.permissions||[]).includes("OWNER"))?l:Object.freeze({})}},389643:(e,t,l)=>{l.d(t,{Z:()=>r});var o=l(616550),i=l(53987),s=l(773285),n=l(19121),a=l(350118);let r=e=>{let t=(0,o.TH)(),l=(0,n.Z)(),r=(0,a.S6)(),{anyEnabled:c}=(0,s.F)().checkExperiment("web_m10n_business_access_orbac_www"),d=(0,o.$B)("/:username"),_=d?.params?.username,u=(0,o.$B)("/pin/:id"),m=!!u?.params?.id&&r(u.params.id)?.pinner?.id;if((0,i.ej)(t))return!1;if((0,i.RU)(t))return!0;if((0,i.mY)(t))return c;let h=e.concat(l.isAuth?{user:{username:l.username},id:l.id}:{}).find(e=>{let{user:t={},id:l}=e||{},{username:o}=t;return(!!o&&!!_||!!m&&!!l)&&(o===_||m===l)});return!!h&&h.id}},845772:(e,t,l)=>{l.d(t,{Z:()=>n});var o=l(19121),i=l(717615),s=l(231947);let n=()=>{let e=(0,o.Z)(),t=(0,i.Z)(),l=(0,s.lJ)(e,t);return l}},231947:(e,t,l)=>{l.d(t,{D3:()=>c,DX:()=>a,KY:()=>d,Ms:()=>o,N1:()=>_,_P:()=>n,lJ:()=>s,nl:()=>i,q6:()=>r});let o=(e,t)=>{let l=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(l=t.user.username),l},i=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),s=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",n=(e,t,l)=>l&&l.user&&t&&t.isAuth&&l.id!==t.id?l.user.merchantId:e.advertiser?.merchant_id,a=(e,t,l)=>l&&l.user&&e.isAuth&&l.id!==e.id?l.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,r=(e,t,l)=>{let o=e&&e.isAuth&&l&&l.id&&l.id!==e.id&&l.id===t;return!!o},c=(e,t,l)=>{let o=r(e,t,l)||e&&e.isAuth&&t===e.id;return!!o},d=(e,t,l)=>{let o=t&&t.owner&&t.owner.id||"";return c(e,o,l)};function _(e,t,l){let o=t?t.id:"";return c(e,o,l)}},139405:(e,t,l)=>{l.d(t,{pb:()=>x,nf:()=>A,lV:()=>b});var o=l(667294),i=l(702664),s=l(441143),n=l.n(s),a=l(214494),r=l(425288),c=l(186656),d=l(505920),_=l(594736),u=l(767546);let m={feature_map:Object.freeze({})},h=(e,t)=>{let l={...(0,u.Z)(e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return(0,_.ZP)(e,l)?e:l},g=(e=m,t)=>{if("FETCH_COMPLETE"===t.type){let{payload:{resource:l}}=t,{data:o}=t.payload.response.resource_response;if("AggregatedCommentFeedResource"===l||"AggregatedCommentReplyFeedResource"===l||"DidItCommentsResource"===l){let t=o||[],l=t.reduce((t,l)=>(t[l.id]=h(e[l.id],l),t),{});return{...e,...l}}if("UnifiedCommentsResource"===l&&o&&o.length>0){let t=o.filter(e=>"aggregatedcomment"===e.type),l=t.reduce((t,l)=>(t[l.id]=h(e[l.id],l),t),{});return{...e,...l}}if("UnifiedCommentsPreviewResource"===l&&o&&o.length>0){let t=o[0].aggregated_comment,l=t?{[t.id]:h(e[t.id],t)}:{},i=o[0].creator_reply,s=i?{[i.id]:h(e[i.id],i)}:{};return{...e,...l,...s}}if("AggregatedCommentFeaturesResource"===l&&o&&Object.keys(o).length>0)return{...e,feature_map:o}}else if("AGGREGATED_COMMENT_CREATED"===t.type){let{payload:{aggregatedComment:l}}=t;return l.id?{...e,[l.id]:l}:e}else if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){let{payload:{aggregatedCommentId:l}}=t,o={...e};return delete o[l],o}else if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){let{payload:{userId:l}}=t;return Object.fromEntries(Object.entries(e).filter(e=>e[1].user?.id!==l))}else if("AGGREGATED_COMMENT_UPDATED"===t.type){let{payload:{data:l}}=t;return{...e,[l.id]:h(e[l.id],l)}}else if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){let{payload:{data:l}}=t,o=e[l.id],i=o.reaction_counts[1]||0,s={1:l.reaction_by_me?i+1:i-1},n={...o,reaction_by_me:l.reaction_by_me,reaction_counts:s};return{...e,[l.id]:n}}else if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){let{payload:{data:l}}=t,o=e[l.id],i=o.helpful_count||0,s=l.marked_helpful_by_me?i+1:i-1,n={...o,marked_helpful_by_me:l.marked_helpful_by_me,helpful_count:s};return{...e,[l.id]:n}}else if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){let{payload:{data:l}}=t,o=e[l.aggregated_comment_id],i={...o,highlighted_by_pin_owner:l.is_highlighted};return{...e,[l.aggregated_comment_id]:i}}else if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){let{payload:{data:{featureMap:l}}}=t;return{...e,feature_map:{...e.feature_map,...l}}}else if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){let{payload:{increment:l,id:o}}=t,i=e[o];if(!i)return e;let s={...i,comment_count:i.comment_count+l};return{...e,[o]:s}}else if("DELETE_COMMENT_MENTION"===t.type){let{payload:{aggregatedCommentId:l,tagged_users:o}}=t,i=e[l],s={...i,tagged_users:o};return{...e,[l]:s}}else if("GET_COMMENT_TRANSLATION"===t.type){let{payload:{aggregatedCommentId:l,translatedText:o}}=t,i=e[l],s={...i,translatedText:o};return{...e,[l]:s}}return e};var p=l(785893);let{Provider:f,useHook:y}=(0,r.Z)("AggregatedComments");function x({children:e}){let t=(0,i.useSelector)(({resources:e})=>e.UnifiedCommentsResource),l=m;t&&Object.values(t).forEach(e=>{let t=e.data?.filter(e=>"aggregatedcomment"===e.type),o=t?.reduce((e,t)=>(e[t.id]=h(l[t.id],t),e),{});l={...l,...o}});let[s,n]=(0,o.useReducer)(g,l),a=e=>{n({type:"FETCH_COMPLETE",payload:e})};(0,d.Z8)("AggregatedCommentFeaturesResource",a),(0,d.my)("AggregatedCommentFeaturesResource",a),(0,d.Z8)("AggregatedCommentFeedResource",a),(0,d.my)("AggregatedCommentFeedResource",a),(0,d.Z8)("AggregatedCommentReplyFeedResource",a),(0,d.my)("AggregatedCommentReplyFeedResource",a),(0,d.Z8)("DidItCommentsResource",a),(0,d.my)("DidItCommentsResource",a),(0,d.Z8)("UnifiedCommentsPreviewResource",a),(0,d.my)("UnifiedCommentsPreviewResource",a),(0,d.Z8)("UnifiedCommentsResource",a),(0,d.my)("UnifiedCommentsResource",a);let r=(0,o.useMemo)(()=>({aggregatedComments:s,dispatch:n}),[s,n]);return(0,p.jsx)(f,{value:r,children:e})}function A(){let{dispatch:e}=y();return(0,o.useMemo)(()=>({aggregatedCommentCreated(t,l){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:l}})},aggregatedCommentDeleted:(t,l)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:l}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({commentId:e,reason:t,detailedReasons:l})=>(0,c.Z)({url:`/v3/aggregated_comments/${e}/flag/`,method:"PUT",data:{commentId:e,reason:t,detailedReasons:l}}),deleteCommentMention:async t=>{let{resource_response:l}=await (0,c.Z)({url:`/v3/aggregated_comments/${t}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),o=l.data??{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:o.id,tagged_users:o.tagged_users}})},translateAggregatedComment:async t=>{try{let{resource_response:l}=await (0,c.Z)({url:`/v3/aggregated_comments/${t}/translate/`,method:"GET"}),o=l.data??"";e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:o}})}catch(l){e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:""}})}},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:l})=>{(0,c.Z)({url:`/v3/helpful/1/${t}/`,method:l?"DELETE":"POST"}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!l}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:l,isHighlighted:o})=>{n()(t,"Could not find comment"),n()(l,"Could not find Pin"),await (0,c.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:t,pin:l,highlight:!o}}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:l,is_highlighted:!o}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:l})=>{(0,c.Z)({url:`/v3/aggregated_comments/${t}/react/`,method:l?"DELETE":"POST",data:{reaction_type:1}}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:l?0:1}}})},updateAggregatedComment:async({commentId:t,force:l,orbacSubjectId:o,tags:i,text:s})=>{let{resource_response:n}=await a.Z.create("AggregatedCommentResource",{commentId:t,force:l,tags:i,text:s,...o?{orbacSubjectId:o}:{}}).callUpdate({showError:!1}),{tagged_users:r}=n.data??{},c=r.map(e=>({...e}));e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:c,tags:JSON.parse(i),text:s}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:l,passcode:o})=>{let{resource_response:i}=await a.Z.create("AggregatedCommentFeaturesResource",{userId:t,featureMap:l,passcode:o}).callUpdate({showError:!1}),s=i.data??Object.freeze({});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:s}}})},updateCommentCount:(t,l)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:l,id:t}})}}),[e])}function b(){let{aggregatedComments:e}=y();return e}},664569:(e,t,l)=>{l.d(t,{n:()=>i,o:()=>o});let o={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"},i={aggregatedComment:"aggregatedcomment",didIt:"userdiditdata",pin:"pin"}},94089:(e,t,l)=>{l.d(t,{G:()=>u,Kl:()=>m,vo:()=>_});var o=l(667294),i=l(425288),s=l(505920),n=l(311541),a=l(785893);let r=()=>l.e(18870).then(l.bind(l,218870)),{Provider:c,useHook:d}=(0,i.Z)("NativeEngagements");function _({children:e}){let[t,l]=(0,n.Z)(r,[]),i=e=>{l({type:"FETCH_COMPLETE",payload:e})};(0,s.Z8)("NativeInteractionsResource",i),(0,s.my)("NativeInteractionsResource",i);let d=(0,o.useMemo)(()=>({dispatch:l,nativeEngagements:t}),[l,t]);return(0,a.jsx)(c,{value:d,children:e})}function u(){let{dispatch:e}=d();return(0,o.useMemo)(()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}),[e])}function m(){let{nativeEngagements:e}=d();return e}},814197:(e,t,l)=>{l.d(t,{Cq:()=>d,Dk:()=>u,Fk:()=>i,fS:()=>c,km:()=>_,lI:()=>n,lJ:()=>s,mS:()=>r,qW:()=>a});var o=l(883119);let i=new o.Ry(1),s=3,n=new o.Ry(s),a=2,r=new o.Ry(a),c=3,d=4,_=new o.Ry(5),u=new o.Ry(100)},44004:(e,t,l)=>{l.d(t,{Z:()=>I,w:()=>E});var o,i=l(667294),s=l(702664);l(167912);var n=l(616550),a=l(442279),r=l(883119),c=l(44715),d=l(681669),_=l(784590),u=l(50286),m=l(829407),h=l(19121),g=l(139405),p=l(664569),f=l(114020),y=l(600147),x=l(492583),A=l(698330),b=l(785893);let E=({aggregatedPinDataId:e,featuredCommentIds:t,featuredDidItIds:l,isDesktop:o,isReversed:i=!1,noCache:s=!1})=>({name:"UnifiedCommentsResource",options:{aggregated_pin_id:e,comment_featured_ids:t,did_it_featured_ids:l,page_size:o?10:25,redux_normalize_feed:!0,is_reversed:i},noCache:s}),P=(0,a.P1)((e,t,l)=>l,({feeds:e},t)=>e[`${x.Z.UNIFIED_COMMENTS}:${t||""}`],({didItData:e})=>e,(e,t,l,o)=>o,(e,t,l,o)=>t?.map(({id:t,type:i})=>{let s="aggregatedcomment"===i.toLowerCase()?e[t]:l[t];if(!s)return;let n="string"==typeof s.user?o[s.user]??{}:s.user??{};return{...s,user:n??{}}}).filter(e=>e)||[]),T=void 0!==o?o:o=l(90838),v=({aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:l,commentsDisabled:o,hasComments:a,isReadOnly:d,pinId:x,isVideo:T,pinnerId:v,scrollContainer:I,setIsComposingNewComment:C=()=>{},storyPinDataId:k,viewParameter:w,toggleComposerForReply:j,openMwebOverflowMenu:z})=>{let{comment_id:D}=(0,n.UO)(),R=(0,s.useDispatch)(),L=(0,u.HG)(),S=(0,h.Z)(),O=(0,i.useRef)(a),M=(0,_.Z)(O.current&&e?E({aggregatedPinDataId:e,featuredCommentIds:D?[D]:[],isDesktop:L}):null),{removeUnauthCommentPinId:G,unauthCommentPinId:N}=(0,f.C)(),Z=(0,g.lV)(),{toggleAggregatedCommentHelpful:U,toggleAggregatedCommentLike:B}=(0,g.nf)(),F=(0,A.kW)(),H=(0,s.useSelector)(t=>P(t,e,Z,F)),[W,$]=(0,i.useState)(void 0),q=()=>{C(!0)};return(0,m.Z)(()=>{!L&&S.isAuth&&N&&x&&N===x&&(q(),G())}),(0,i.useEffect)(()=>{let e=()=>{let t=!!I&&I.scrollTop+I.clientHeight+10>=I.scrollHeight;M&&!M.isFetching&&(M.isAtEnd?I?.removeEventListener("scroll",e):t&&M.fetchMore())};return I?.addEventListener("scroll",e),()=>{I?.removeEventListener("scroll",e)}},[M,I]),(0,b.jsx)(i.Fragment,{children:(0,b.jsx)(r.xu,{display:"flex",marginTop:L?6:0,width:"100%",children:(0,b.jsx)(c.Z,{aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:l,comments:H,commentsDisabled:o,isDesktop:L,isLoaded:M&&M.isLoaded||!a,isReadOnly:d,isVideo:T,openOverflowMenu:z,parentId:e??"",parentType:p.o.pin,pinId:x,pinnerId:v,reactionListCommentId:W,showReactionListForComment:$,storyPinDataId:k,toggleHelpful:(e,t,l)=>()=>{l?R((0,y.YH)({didItDataId:e,isMarkedHelpfulByMe:t})):U({aggregatedCommentId:e,isMarkedHelpfulByMe:t})},toggleLike:(e,t,l)=>()=>{l?R((0,y.wH)({didItDataId:e,isLikedByMe:t})):B({aggregatedCommentId:e,isLikedByMe:t})},toggleReplyComposer:j,userAvatarSize:"sm",viewParameter:w})})})};function I({pinKey:e,...t}){let{data:l}=(0,d.sr)(T,e,{type:"pin",useLegacyAdapter:e=>({aggregatedPinData:e.aggregated_pin_data&&{commentCount:e.aggregated_pin_data.comment_count,didItData:e.aggregated_pin_data.did_it_data&&{imagesCount:e.aggregated_pin_data.did_it_data.images_count},entityId:e.aggregated_pin_data.id??""},closeupAttribution:e.closeup_attribution&&{entityId:e.closeup_attribution.id??"",username:e.closeup_attribution.username},commentsDisabled:e.comments_disabled,doneByMe:e.done_by_me,entityId:e.id,pinner:e.pinner&&{entityId:e.pinner.id},storyPinData:e.story_pin_data&&{entityId:e.story_pin_data.id??""},videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}})}),o=(l?.aggregatedPinData?.commentCount||0)+(l?.aggregatedPinData?.didItData?.imagesCount||0);return(0,b.jsx)(v,{aggregatedPinDataId:l?.aggregatedPinData?.entityId,closeupAttributionId:l?.closeupAttribution?.entityId,closeupAttributionUsername:l?.closeupAttribution?.username,commentsDisabled:l?.commentsDisabled,disablePhotoCommentSelection:!!l?.doneByMe,hasComments:o>0&&!l?.commentsDisabled,isVideo:!!l?.videos?.videoList,pinId:l?.entityId,pinnerId:l?.pinner?.entityId,storyPinDataId:l?.storyPinData?.entityId,...t})}},114020:(e,t,l)=>{l.d(t,{C:()=>a,p:()=>r});var o=l(667294),i=l(425288),s=l(785893);let{Provider:n,useHook:a}=(0,i.Z)("Session");function r({children:e}){let[t,l]=(0,o.useState)(void 0),i=(0,o.useCallback)(()=>l(void 0),[]),a=(0,o.useMemo)(()=>({unauthCommentPinId:t,setUnauthCommentPinId:l,removeUnauthCommentPinId:i}),[t,i]);return(0,s.jsx)(n,{value:a,children:e})}},737849:(e,t,l)=>{l.d(t,{Z:()=>_});var o=l(883119),i=l(121151),s=l(898781),n=l(349700),a=l(966113),r=l(50286),c=l(785893);let d=a.K_Y+"?source=block_dialogue";function _({firstName:e,onBlockUser:t,onClearModal:l}){let a=(0,s.ZP)(),_=(0,r.HG)(),u=(0,n.nk)(a.bt("Blokir {{ firstName }}?", "Block {{ firstName }}?", "blockUser.modal.header", undefined, true),{firstName:e}).join(""),m=(0,n.nk)(a.bt("Memblokir {{ firstName }}, menghentikan pesan, aktivitas mengikuti, dan komentar. Anda tetap dapat melihat profil satu sama lain.", "Blocking {{ firstName }}, stops messages, follows, and comments. You can still view each other’s profiles.", "blockUser.modal.description", undefined, true),{firstName:e});return _?(0,c.jsxs)(i.ZP,{accessibilityModalLabel:u,footer:(0,c.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,c.jsx)(o.xu,{padding:1,children:(0,c.jsx)(o.zx,{fullWidth:!0,onClick:l,size:"lg",text:a.bt("Batal", "Cancel", "blockUser.modal.cancel", undefined, true)})}),(0,c.jsx)(o.xu,{padding:1,children:(0,c.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:t,size:"lg",text:a.bt("Blokir", "Block", "Button to confirm blocking a user", undefined, true)})})]}),heading:u,onDismiss:l,role:"alertdialog",size:"md",children:[(0,c.jsx)(o.xu,{"data-test-id":"block-text",marginEnd:6,marginStart:6,children:(0,c.jsx)(o.xv,{children:m})}),(0,c.jsx)(o.xu,{marginEnd:6,marginStart:6,marginTop:4,children:(0,c.jsx)(o.xv,{color:"default",weight:"bold",children:(0,c.jsx)(o.rU,{href:d,target:"blank",children:a.bt("Pelajari selengkapnya", "Learn more", "link to help center to learn more about blocking", undefined, true)})})})]}):(0,c.jsxs)(i.ZP,{accessibilityModalLabel:u,mobileHideCloseIcon:!0,onDismiss:l,type:"block_button",children:[(0,c.jsx)(o.xu,{alignItems:"center",display:"flex",paddingX:3,paddingY:5,children:(0,c.jsx)(o.X6,{accessibilityLevel:1,size:"500",children:u})}),(0,c.jsx)(o.xu,{marginBottom:4,marginEnd:4,marginStart:4,children:(0,c.jsx)(o.xv,{children:m})}),(0,c.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,children:[(0,c.jsx)(o.xu,{padding:1,children:(0,c.jsx)(o.zx,{fullWidth:!0,onClick:l,size:"md",text:a.bt("Batal", "Cancel", "blockUser.modal.cancel", undefined, true)})}),(0,c.jsx)(o.xu,{padding:1,children:(0,c.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:t,size:"md",text:a.bt("Blokir", "Block", "Button to confirm blocking a user", undefined, true)})})]})]})}},600147:(e,t,l)=>{l.d(t,{DD:()=>_,lg:()=>u,Th:()=>h,YH:()=>r,wH:()=>a,IU:()=>m,L8:()=>d});var o=l(214494),i=l(186656),s=l(956800),n=l(492583);function a({didItDataId:e,isLikedByMe:t}){return l=>((0,i.Z)({url:`/v3/did_it/${e}/like/`,method:t?"DELETE":"POST"}),l({type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:e,liked_by_me:!t}}))}function r({didItDataId:e,isMarkedHelpfulByMe:t}){return l=>((0,i.Z)({url:`/v3/helpful/2/${e}/`,method:t?"DELETE":"POST"}),l({type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:e,marked_helpful_by_me:!t}}))}function c(e){return{type:"USER_DID_IT_DATA_DELETE",payload:{id:e}}}function d(e,t){return{type:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}function _({aggregatedPinDataId:e,details:t,fromUnifiedComment:l,image_signatures:i,pin_id:a,username:r,updateParentDidItCount:c}){let _={aggregatedPinDataId:e,details:t,image_signatures:i,pin_id:a};return t=>o.Z.create("DidItActivityResource",_).callCreate().then(o=>{let i=o.resource_response.data;t({type:"PIN_DID_IT",payload:{id:a,value:!0}}),t({type:"USER_DID_IT_DATA_CREATE",payload:{user_did_it_data:i}}),t((0,s.vX)({feedId:e,feedType:l?n.Z.UNIFIED_COMMENTS:n.Z.TRIED_IT_FEED,itemIds:[i.id],itemType:i.type})),t((0,s.vX)({feedId:r,feedType:n.Z.TRIED_IT_FEED,itemIds:[i.id],itemType:i.type})),c&&t(d(e,1))},()=>{})}function u({aggregatedPinDataId:e,feedType:t,id:l,isOwnedByMe:i,pinId:a,username:r,updateParentDidItCount:_}){return u=>{o.Z.create("DidItActivityResource",{user_did_it_data_id:l,pinId:a}).callDelete().then(()=>{i&&u({type:"PIN_DID_IT",payload:{id:a,value:!1}}),u(c(l)),u((0,s.EX)({feedId:e??"",feedType:t||n.Z.TRIED_IT_FEED,itemIds:[l],itemType:"userdiditdata"})),u((0,s.EX)({feedId:r,feedType:n.Z.TRIED_IT_FEED,itemIds:[l],itemType:"userdiditdata"})),u((0,s.EX)({feedId:r,feedType:n.Z.UNIFIED_COMMENTS,itemIds:e?[e]:[],itemType:"userdiditdata"})),_&&u(d(l,-1))},()=>{})}}function m({id:e,details:t,image_signatures:l,pinId:i}){let s={details:t,image_signatures:l,user_did_it_data_id:e,pin_id:i};return e=>{o.Z.create("DidItActivityResource",s).callUpdate().then(t=>{let l=t.resource_response.data;e({type:"USER_DID_IT_DATA_UPDATE",payload:{user_did_it_data:l}})},()=>{})}}function h(e,t,l,o,a){return r=>{(0,i.Z)({url:`/v3/did_it/${l}/flag/`,method:"PUT",data:{reason:o,detailed_reasons:t,explanation:void 0}}).then(()=>{r(c(l)),e&&r((0,s.EX)({feedId:e,feedType:n.Z.TRIED_IT_FEED,itemIds:[l],itemType:"userdiditdata"})),r((0,s.EX)({feedId:a,feedType:n.Z.TRIED_IT_FEED,itemIds:[l],itemType:"userdiditdata"}))},()=>{})}}},274415:(e,t,l)=>{l.d(t,{R:()=>o});function o(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}},550393:(e,t,l)=>{l.d(t,{Q:()=>s,a:()=>i});var o=l(186656);function i(e,t){return async l=>{let{resource_response:i}=await (0,o.Z)({url:`/v3/storypins/${e}/mentions/`,method:"DELETE"});return l({type:"DELETE_PIN_MENTION",payload:{pinId:e,userId:t}}),i}}function s(e){return async t=>{let{resource_response:l}=await (0,o.Z)({url:`/v3/aggregated_comments/${e}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),{data:i}=l;return t({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:i.id,tagged_users:i.tagged_users}}),l}}},311716:e=>{e.exports="https://s.pinimg.com/webapp/commentHelpful-99007872.svg"},600636:e=>{e.exports="https://s.pinimg.com/webapp/commentHelpfulOutline-7f59f782.svg"},559113:e=>{e.exports="https://s.pinimg.com/webapp/commentLoved-7942dc4f.svg"},133758:e=>{e.exports="https://s.pinimg.com/webapp/commentLovedOutline-97205606.svg"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/42163.id_ID-dbfa190456539a83.mjs.map